{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>This is Home!!</p>"},{"location":"AtCoder/AT_abc273_h/","title":"ABC273H Inv(0,1)ving Insert(1,0)n","text":"<p>Problem Link: https://www.luogu.com.cn/problem/AT_abc273_h\u3002</p> \u9898\u610f <p>\u6709\u4e00\u4e2a\u7531\u6574\u6570\u5bf9\u6784\u6210\u7684\u5e8f\u5217 \\(A\\)\uff0c\u521d\u59cb\u65f6\u4ec5\u542b \\((0,1)\\) \u548c \\((1,0)\\)\u3002\u4f60\u53ef\u4ee5\u5bf9\u8be5\u5e8f\u5217\u505a\u82e5\u5e72\u6b21\u5982\u4e0b\u64cd\u4f5c\uff08\u53ef\u4ee5\u4e0d\u505a\uff09\uff1a\u9009\u62e9\u4e24\u4e2a \u76f8\u90bb \u7684\u6574\u6570\u5bf9 \\((a,b)\\) \u548c\\((c,d)\\)\uff0c\u5728\u5b83\u4eec\u4e4b\u95f4\u63d2\u5165 \\((a+b,c+d)\\)\u3002\u5bf9\u4e8e\u4e00\u4e2a\u7531\u6574\u6570\u5bf9\u6784\u6210\u7684\u5e8f\u5217 \\(T\\)\uff0c\u5b9a\u4e49 \\(f(T)\\) \u4e3a\u8ba9 \\(T\\) \u4e2d\u7684\u6570\u5bf9\u90fd\u5728 \\(A\\) \u4e2d\u51fa\u73b0\u6240\u9700\u7684\u6700\u5c0f\u64cd\u4f5c\u6b21\u6570\uff08\u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u64cd\u4f5c\uff0c\u89c4\u5b9a \\(f(T)=0\\)\uff09\u3002\u5e8f\u5217 \\(S\\) \u7531\u4e92\u4e0d\u76f8\u540c\u7684\u6574\u6570\u5bf9\u6784\u6210\uff0c\u957f\u5ea6\u4e3a \\(N\\)\uff0c\u7b2c \\(i\\) \u4e2a\u6574\u6570\u5bf9\u4e3a \\((a_i,b_i)\\)\u3002\u8bf7\u5bf9 \\(S\\) \u7684 \\(\\frac{N(N+1)}{2}\\) \u4e2a\u8fde\u7eed\u5b50\u5e8f\u5217 \\(S_{l,r}\\)\uff0c\u6c42\u51fa \\(f(S_{l,r})\\) \u7684\u503c\u4e4b\u548c\uff0c\u5bf9 \\(998244353\\) \u53d6\u6a21\u3002 \\(1\\leq N\\leq 10^5,0\\leq a,b\\leq 10^9\\)\u3002</p> <p>\\(f(S_{l,r})\\) \u5b9e\u9645\u4e0a\u76f8\u5f53\u4e8e\uff0c\u628a \\((a,b)\\) \u770b\u4f5c\u5206\u6570 \\(\\frac ab\\)\uff0c\u5efa\u51fa\u533a\u95f4\u5185\u7684 Stern-Brocot \u6811<sup>1</sup>\u3002\u5982\u679c\u533a\u95f4\u5185\u6709 \\((0,0)\\) \u6216\u8005 \\((a,b),\\gcd(a,b)\\neq 1\\)\uff0c\u90a3\u4e48 \\(f\\) \u503c\u4e3a \\(0\\)\uff0c\u5426\u5219 \\(f\\) \u503c\u4e3a\u533a\u95f4\u5bf9\u5e94\u7684 Stern-Brocot \u6811\u70b9\u6570\u3002</p> <p>\u8003\u8651\uff0c\u628a \\((0,0)\\) \u6216\u8005 \\((a,b),\\gcd(a,b)\\neq 1\\) \u7684\u4f4d\u7f6e\u6254\u6389\uff0c\u533a\u95f4\u53d8\u6210\u4e86\u82e5\u5e72\u6bb5\uff0c\u6bcf\u4e00\u6bb5\u5185\u7684\u5b50\u533a\u95f4\u7684 \\(f\\) \u5747\u4e0d\u4e3a \\(0\\)\uff0c\u7136\u540e\u4e00\u6bb5\u4e00\u6bb5\u5904\u7406\u3002</p> <p>\u7531\u4e8e \\(a,b\\) \u53ef\u80fd\u5f88\u5927\uff0c\u6211\u4eec\u4e0d\u80fd\u628a\u6574\u68f5\u6811\u5efa\u51fa\u6765\u3002\u6211\u4eec\u8003\u8651\u5982\u4f55\u627e\u5230\u4e00\u4e2a\u5206\u6570 \\(\\dfrac xy\\) \u5728\u6811\u4e0a\u7684\u4f4d\u7f6e\uff1a</p> <ul> <li>\u7ef4\u62a4\u4e00\u4e2a \\(a,b,c,d\\)\uff0c\u8868\u793a\u76ee\u524d\u70b9\u6240\u8868\u793a\u7684\u5206\u6570\u4e3a \\(\\dfrac {a+c}{b+d}\\)\uff0c\u521d\u59cb \\(a=0,b=1,c=1,d=0\\)\uff0c\u8868\u793a\u6839\u8282\u70b9 \\(\\dfrac 11\\)\u3002</li> <li>\u76ee\u524d\u70b9\u7684\u5de6\u513f\u5b50\u5c31\u662f \\(\\dfrac {2a+c}{2b+d}\\)\uff0c\u53f3\u513f\u5b50\u5c31\u662f \\(\\dfrac {a+2c}{b+2d}\\)\uff0c\u6211\u4eec\u8ba1\u7b97 \\(\\dfrac xy\\) \u548c \\(\\dfrac {a+c}{b+d}\\) \u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u7136\u540e\u9012\u5f52\u4e0b\u53bb\u5373\u53ef\u3002</li> </ul> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u628a\u8def\u5f84\u5199\u6210 \\(\\texttt{LLLRRRLLRLL...RR}\\) \u7684\u5f62\u5f0f\uff0c\\(\\texttt{L,R}\\) \u5206\u522b\u8868\u793a\u4ece\u6839\u8282\u70b9\u5f00\u59cb\uff0c\u6bcf\u4e00\u6b65\u662f\u8d70\u5de6\u7aef\u70b9\u8fd8\u662f\u53f3\u7aef\u70b9\uff0c\u90a3\u4e48\u6613\u8bc1\u8fd9\u4e2a\u4e32\u4e2d\u7684 \\(\\texttt{L,R}\\) \u8fde\u7eed\u6bb5\u6570\u662f \\(O(\\log V)\\) \u7ea7\u522b\u7684\uff0c\u56e0\u4e3a\u6bcf\u6b21\u5207\u6362 \\(\\texttt{L,R}\\) \u76f8\u5f53\u4e8e \\(a,b,c,d\\) \u7684\u4ea4\u66ff\u6dfb\u52a0\uff0c\u7c7b\u4f3c\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff0c\u589e\u957f\u901f\u5ea6\u662f\u6307\u6570\u7ea7\u7684\u3002</p> <p>\u4e8e\u662f\uff0c\u6211\u4eec\u63d0\u53d6\u51fa\u6240\u6709\u8fd9\u4e2a \\(\\texttt{L,R}\\) \u4ea4\u66ff\u7684\u90e8\u5206\u7684\u70b9\uff0c\u7136\u540e\u5bf9\u6240\u6709 \\(O(n\\log V)\\) \u4e2a\u70b9\u5efa\u865a\u6811\uff0c\u7136\u540e\u518d\u542f\u53d1\u5f0f\u5408\u5e76/\u7ebf\u6bb5\u6811\u5408\u5e76\u8ba1\u7b97\u6bcf\u4e2a\u70b9\u5230\u5b83\u7236\u4eb2\u8282\u70b9\u8fd9\u6761\u8def\u5f84\u4f1a\u5728\u51e0\u4e2a\u533a\u95f4\u5185\u88ab\u8ba1\u7b97\u5230\u3002\u603b\u590d\u6742\u5ea6 \\(O(n\\log V\\log n)\\)\u3002</p> <p>\u5efa\u865a\u6811\u7684\u90e8\u5206\u9700\u8981\u4ed4\u7ec6\u5b9e\u73b0\uff0c\u5426\u5219\u590d\u6742\u5ea6\u5c31\u5047\u4e86\u3002\u6ce8\u610f\u4e0a\u8ff0\u7ed3\u8bba\u4e0d\u4e00\u5b9a\u4fdd\u8bc1\u6bcf\u4e2a\u5206\u6570\u7684\u6839\u94fe\u4e0a\u7684\u70b9\u6570\u662f \\(O(\\log V)\\) \u7684\uff08\u8003\u8651\u63d2\u5165\u5206\u6570 \\(\\frac 11,\\frac 12,\\frac 13,...\\)\uff09\uff0c\u6211\u7684\u5b9e\u73b0\u65b9\u6cd5\u662f\u6574\u4f53\u63d2\u5165\uff0c\u5c06\u76ee\u524d\u70b9\u5b50\u6811\u5185\u7684\u5206\u6570\u5206\u4e3a\u4e24\u534a\uff0c\u7136\u540e\u5efa\u51fa\u5de6\u513f\u5b50\u53f3\u513f\u5b50\u7684\u4e24\u6761\u6781\u957f\u94fe\uff0c\u518d\u9012\u5f52\u4e0b\u53bb\u3002</p> <pre><code>//AT_abc273_h\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef long long ll;\nconst ll P = 998244353;\n\nstruct node{\n    int fa, dis, ls, rs;\n};\nvector&lt;node&gt; t;\nvector&lt;int&gt; bel;\n\nvoid insert(vector&lt;tuple&lt;ll, ll, int&gt; &gt; &amp;v, int p, ll a, ll b, ll c, ll d){\n    if(!v.size()){\n        return;\n    }\n    vector&lt;pair&lt;int, int&gt; &gt; le, ri;\n    for(int i = 0; i &lt; v.size(); ++ i){\n        ll x = get&lt;0&gt;(v[i]), y = get&lt;1&gt;(v[i]);\n        if(x + y == 1){\n            bel[get&lt;2&gt;(v[i])] = -1;\n        } else if((a + c) * y == (b + d) * x){\n            bel[get&lt;2&gt;(v[i])] = p;\n        } else if((a + c) * y &lt; (b + d) * x){\n            int k = (b * x - a * y - 1) / (c * y - d * x) + 1;\n            ri.push_back(make_pair(k, i));\n        } else {\n            int k = (c * y - d * x - 1) / (b * x - a * y) + 1;\n            le.push_back(make_pair(k, i));\n        }\n    }\n    sort(le.begin(), le.end());\n    sort(ri.begin(), ri.end());\n    int now = p;\n    vector&lt;tuple&lt;ll, ll, int&gt; &gt; nxt;\n    for(int j = 0; j &lt; ri.size(); ++ j){\n        int vv = (j == 0 ? ri[j].first - 1 : ri[j].first - ri[j-1].first);\n        if(j == 0 || ri[j].first != ri[j-1].first){\n            t[now].rs = t.size();\n            t.push_back({now, vv, -1, -1});\n            now = t[now].rs;\n            nxt.push_back(v[ri[j].second]);\n        } else {\n            nxt.push_back(v[ri[j].second]);\n        }\n        if(j == ri.size() - 1 || ri[j].first != ri[j+1].first){\n            insert(nxt, now, a + (ri[j].first - 1) * c, b + (ri[j].first - 1) * d, c, d);\n            vector&lt;tuple&lt;ll, ll, int&gt; &gt; ().swap(nxt);\n        }\n    }\n    now = p;\n    for(int j = 0; j &lt; le.size(); ++ j){\n        int vv = (j == 0 ? le[j].first - 1 : le[j].first - le[j-1].first);\n        if(j == 0 || le[j].first != le[j-1].first){\n            t[now].ls = t.size();\n            t.push_back({now, vv, -1, -1});\n            now = t[now].ls;\n            nxt.push_back(v[le[j].second]);\n        } else {\n            nxt.push_back(v[le[j].second]);\n        }\n        if(j == le.size() - 1 || le[j].first != le[j+1].first){\n            insert(nxt, now, a, b, c + (le[j].first - 1) * a, d + (le[j].first - 1) * b);\n            vector&lt;tuple&lt;ll, ll, int&gt; &gt; ().swap(nxt);\n        }\n    }\n}\n\nvector&lt;int&gt; tt;\nvoid dfs(int x){\n    if(t[x].ls != -1){\n        dfs(t[x].ls);\n    }\n    if(t[x].rs != -1){\n        dfs(t[x].rs);\n    }\n    tt.push_back(x);\n}\nll calc(vector&lt;tuple&lt;ll, ll, int&gt; &gt; &amp;v){\n    vector&lt;node&gt; ().swap(t);\n    vector&lt;int&gt; ().swap(bel);\n    bel.resize(v.size());\n    t.push_back({-1, 0, -1, -1});\n    insert(v, 0, 0, 1, 1, 0);\n    int n = v.size();\n    ll ans = 0;\n    ll all = 1ll * n * (n + 1) / 2 % P;\n    auto calc = [=](int len){\n        return 1ll * len * (len + 1) / 2 % P;\n    };\n    vector&lt;set&lt;int&gt; &gt; st(t.size());\n    vector&lt;ll&gt; CC(t.size());\n    for(int i = 0; i &lt; t.size(); ++ i){\n        CC[i] = all;\n        st[i].clear();\n    }\n    for(int i = 0; i &lt; n; ++ i){\n        if(bel[i] != -1){\n            st[bel[i]].insert(-1);\n            st[bel[i]].insert(n);\n            auto L = st[bel[i]].lower_bound(i);\n            auto R = L;\n            -- L;\n            int l = *L, r = *R;\n            (CC[bel[i]] += P - calc(r - l - 1)) %= P;\n            (CC[bel[i]] += calc(i-l-1)) %= P;\n            (CC[bel[i]] += calc(r-i-1)) %= P;\n            st[bel[i]].insert(i);\n            st[bel[i]].erase(-1);\n            st[bel[i]].erase(n);\n        }\n    }\n    dfs(0);\n    for(int i : tt){\n        if(i == 0){\n            t[i].dis = 1;\n        }\n        (ans += (all + P - CC[i]) * t[i].dis) %= P;\n        if(t[i].fa == -1){\n            break;\n        }\n        if(st[t[i].fa].size() &lt; st[i].size()){\n            swap(st[i], st[t[i].fa]);\n            swap(CC[i], CC[t[i].fa]);\n        }\n        st[t[i].fa].insert(-1);\n        st[t[i].fa].insert(n);\n        for(auto j : st[i]){\n            auto L = st[t[i].fa].lower_bound(j);\n            auto R = L;\n            -- L;\n            int l = *L, r = *R;\n            (CC[t[i].fa] += P - calc(r-l-1)) %= P;\n            (CC[t[i].fa] += calc(j-l-1)) %= P;\n            (CC[t[i].fa] += calc(r-j-1)) %= P;\n            st[t[i].fa].insert(j);\n        }\n        st[t[i].fa].erase(-1);\n        st[t[i].fa].erase(n);\n        st[i].clear();\n    }\n    vector&lt;int&gt; ().swap(tt);\n    return ans;\n}\n\nint main(){\n    int n;\n    cin &gt;&gt; n;\n    vector&lt;pair&lt;ll, ll&gt; &gt; a(n);\n    ll ans = 0;\n    vector&lt;tuple&lt;ll, ll, int&gt; &gt; now;\n    for(int i = 0, cc = 0; i &lt; n; ++ i){\n        cin &gt;&gt; a[i].first &gt;&gt; a[i].second;\n        if((a[i].first || a[i].second) &amp;&amp; __gcd(a[i].first, a[i].second) == 1){\n            now.push_back({a[i].first, a[i].second, cc ++});\n        } else if(now.size()){\n            cc = 0;\n            ans = (ans + calc(now)) % P;\n            vector&lt;tuple&lt;ll, ll, int&gt; &gt; ().swap(now);\n        }\n    }\n    ans = (ans + calc(now)) % P;\n    printf(\"%lld\\n\", ans);\n    return 0;\n}\n</code></pre> <ol> <li> <p>Stern\u2013Brocot \u6811\u4e0e Farey \u5e8f\u5217 - OI wiki\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"AtCoder/AT_arc078_d/","title":"ARC078F Mole and Abandoned Mine","text":"<p>Problem Link: https://www.luogu.com.cn/problem/AT_arc078_d\u3002</p> \u9898\u610f <p>\u6709\u4e00\u5f20\u7b80\u5355\u8fde\u901a\u65e0\u5411\u56fe\uff0c\u4f60\u9700\u8981\u5220\u9664\u82e5\u5e72\u6761\u8fb9\u4f7f\u5f97\u5220\u9664\u540e\u7684\u56fe \\(1\\to n\\) \u53ea\u6709\u4e00\u6761\u7b80\u5355\u8def\u5f84\uff0c\u5220\u9664\u4e00\u6761\u8fb9\u7684\u4ee3\u4ef7\u4e3a\u8fb9\u6743\u3002\u6c42\u6ee1\u8db3\u6761\u4ef6\u7684\u6700\u5c0f\u4ee3\u4ef7\u3002 \\(n\\leq 15\\)\uff0c\u53ef\u4ee5\u505a\u5230 \\(n\\leq 17\\)\u3002</p> <p>\u53d1\u73b0\uff0c\u5408\u6cd5\u7684\u5220\u8fb9\u540e\u7684\u56fe\u5f62\u5982\uff0c\u4e00\u6761 \\(1\\to n\\) \u7684\u94fe\uff0c\u94fe\u4e0a\u6bcf\u4e2a\u70b9\u53ef\u4ee5\u6302\u4e00\u4e2a\u8fde\u901a\u5757\u3002\u4e8e\u662f\u60f3\u5230\u72b6\u538b dp\uff0c\u8bbe \\(f_{i,S}\\) \u8868\u793a\u76ee\u524d\u8def\u5f84 \\(1\\to i\\)\uff0c\u8def\u5f84\u4e0a\u7684\u70b9\u548c\u6302\u5728\u8def\u5f84\u4e0a\u7684\u70b9\u7684\u70b9\u96c6\u5408\u4e3a \\(S\\)\u3002\u8f6c\u79fb\u679a\u4e3e\u4e00\u4e2a \\(j,j\\in T\\)\uff0c\u9884\u5904\u7406\u5c06\u8fde\u901a\u5757 \\(T\\) \u5355\u72ec\u5206\u5272\u51fa\u6765\u7684\u4ee3\u4ef7\uff0c\u7136\u540e\u5982\u679c \\(i\\to j\\) \u8fd9\u6761\u8fb9\u5b58\u5728\uff0c\u5c31\u53ef\u4ee5\u8f6c\u79fb\u5230 \\(f_{j,S^T}\\)\uff0c\u590d\u6742\u5ea6 \\(O(3^nn^2)\\)\uff0c\u53ef\u4ee5\u901a\u8fc7\u539f\u9898\u3002</p> <p>\u4f46\u662f\u8fd8\u80fd\u66f4\u4f18\uff1a\u6ce8\u610f\u5230\u8f6c\u79fb\u5f62\u5982 \\(f_{i,S} - val_{i\\to j} + g_{T} \\to f_{j,T}\\)\uff0c\u800c \\(f_{i,S} - val_{i\\to j}\\) \u4e00\u9879\u548c \\(T\\) \u65e0\u5173\uff0c\u9884\u5904\u7406\u8fd9\u4e2a\u7684\u6700\u4f18\u503c\u4e3a \\(h_{j,S}\\) \u5373\u53ef\u3002\u590d\u6742\u5ea6 \\(O(3^nn)\\)\u3002</p> <p>\u4f3c\u4e4e\u6709 \\(O(3^n)\\) \u505a\u6cd5\uff1f\u4f46\u6211\u4e0d\u4f1a\u3002</p> <pre><code>//AT_arc078_d\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nint main(){\n    int n, m;\n    cin &gt;&gt; n &gt;&gt; m;\n    vector&lt;vector&lt;int&gt; &gt; g(n, vector&lt;int&gt;(n));\n    int sum = 0;\n    while(m --){\n        int u, v, w;\n        cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;\n        -- u;\n        -- v;\n        sum += w;\n        g[u][v] = g[v][u] = w;\n    }\n    vector&lt;vector&lt;int&gt; &gt; F(n, vector&lt;int&gt;(1&lt;&lt;n));\n    vector&lt;vector&lt;int&gt; &gt; tmp(n, vector&lt;int&gt;(1&lt;&lt;n));\n    vector&lt;int&gt; G(1&lt;&lt;n);\n    for(int S = 0; S &lt; 1 &lt;&lt; n; ++ S){\n        for(int i = 0; i &lt; n; ++ i){\n            F[i][S] = -1e9;\n            tmp[i][S] = -1e9;\n        }\n    }\n    for(int S = 0; S &lt; 1 &lt;&lt; n; ++ S){\n        for(int i = 0; i &lt; n; ++ i){\n            if(S &amp; (1 &lt;&lt; i)){\n                for(int j = i + 1; j &lt; n; ++ j){\n                    if(S &amp; (1 &lt;&lt; j)){\n                        G[S] += g[i][j];\n                    }\n                }\n            }\n        }\n        if(S &amp; 1){\n            F[0][S] = G[S];\n        }\n    }\n\n    for(int S = 0; S &lt; 1 &lt;&lt; n; ++ S){\n        for(int i = 0; i &lt; n; ++ i){\n            if(!(S &amp; (1 &lt;&lt; i))){\n                continue;\n            }\n            for(int j = 0; j &lt; n; ++ j){\n                if(g[i][j] &amp;&amp; ((S ^ (1 &lt;&lt; i)) &amp; (1 &lt;&lt; j))){\n                    tmp[i][S^(1&lt;&lt;i)] = max(tmp[i][S^(1&lt;&lt;i)], F[j][S^(1&lt;&lt;i)] + g[i][j]);\n                }\n            }\n            for(int T = S ^ (1 &lt;&lt; i); T; T = (T - 1) &amp; (S ^ (1 &lt;&lt; i))){\n                F[i][S] = max(F[i][S], G[S^T] + tmp[i][T]);\n            }\n        }\n    }\n    cout &lt;&lt; sum - F[n-1][(1&lt;&lt;n)-1] &lt;&lt; '\\n';\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2163/","title":"No.2163 Div 2 Round","text":"<p>Contest Link: https://codeforces.com/contest/2163\u3002</p>"},{"location":"CodeForces/2163/#a-souvlaki-vs-kalamaki","title":"A. Souvlaki VS. Kalamaki","text":"<p>\u6392\u597d\u5e8f\u540e\uff0c\u68c0\u67e5\u5076\u6570\u8f6e\u4ea4\u6362\u7684\u4e24\u4e2a\u4f4d\u7f6e\u662f\u5426\u5747\u76f8\u540c\u5373\u53ef\u3002</p> code <pre><code>//CF2163A\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 110;\nint T, n, a[N];\n\nint main(){\n    scanf(\"%d\", &amp;T);\n    while(T--){\n        scanf(\"%d\", &amp;n);\n        for(int i = 1; i &lt;= n; ++ i){\n            scanf(\"%d\", &amp;a[i]);\n        }\n        sort(a + 1, a + n + 1);\n        bool flg = 1;\n        for(int i = 2; i + 1 &lt;= n; i += 2){\n            if(a[i] != a[i+1]){\n                flg = 0;\n            }\n        }\n        puts(flg ? \"YES\" : \"NO\");\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2163/#b-siga-ta-kymata","title":"B. Siga ta Kymata","text":"<p>\u5f88\u96be\u7684 B\u3002\u5c1d\u8bd5 dp\uff0c\u4f1a\u53d1\u73b0\u6bcf\u6b21\u64cd\u4f5c\u533a\u95f4\u4e0d\u4e00\u5b9a\u4e0d\u4ea4\u3002</p> <p>\u6b63\u89e3\u662f\uff0c\u5982\u4e0b\u4e94\u6b21\u64cd\u4f5c\uff1a\\((1,pos_1),(pos_1,n),(1,pos_n),(pos_n,n),(pos_1,pos_n)\\)\uff0c\u5982\u679c \\(1\\) \u7684\u4f4d\u7f6e\u5728 \\(n\\) \u7684\u4f4d\u7f6e\u540e\uff0c\u90a3\u4e48\u6700\u540e\u4e00\u4e2a\u6362\u6210 \\((pos_n,pos_1)\\)\u3002</p> <p>\u5982\u679c\u64cd\u4f5c\u5b8c\u5408\u6cd5\u5c31\u884c\uff0c\u5426\u5219\u5c31\u4e0d\u884c\u3002</p> code <pre><code>//CF2163B\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 2e5 + 10;\nint T, n, a[N];\nint p[N];\nchar s[N];\n\nvoid calc(int l, int r){\n    for(int i = l + 1; i &lt; r; ++ i){\n        if(min(a[l], a[r]) &lt; a[i] &amp;&amp; a[i] &lt; max(a[l], a[r])){\n            p[i] = 1;\n        }\n    }\n}\n\nint main(){\n    scanf(\"%d\", &amp;T);\n    while(T--){\n        scanf(\"%d\", &amp;n);\n        int mn, mx;\n        for(int i = 1; i &lt;= n; ++ i){\n            scanf(\"%d\", &amp;a[i]);\n            if(a[i] == 1){\n                mn = i;\n            } else if(a[i] == n){\n                mx = i;\n            }\n            p[i] = 0;\n        }\n        scanf(\"%s\", s + 1);\n        calc(1, mn);\n        calc(mn, n);\n        calc(1, mx);\n        calc(mx, n);\n        calc(min(mn, mx), max(mn, mx));\n        bool flg = 1;\n        for(int i = 1; i &lt;= n; ++ i){\n            if(s[i] == '1' &amp;&amp; !p[i]){\n                flg = 0;\n                break;\n            }\n        }\n        if(flg){\n            puts(\"5\");\n            printf(\"%d %d\\n\", 1, mn);\n            printf(\"%d %d\\n\", mn, n);\n            printf(\"%d %d\\n\", 1, mx);\n            printf(\"%d %d\\n\", mx, n);\n            printf(\"%d %d\\n\", min(mn, mx), max(mn, mx));\n        } else {\n            puts(\"-1\");\n        }\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2163/#c-monopati","title":"C. Monopati","text":"<p>\u6211\u4eec\u5176\u5b9e\u53ef\u4ee5\u9884\u5904\u7406\u6240\u6709\u8def\u5f84\u7684 \\(\\min,\\max\\) \u503c\u3002\u3002\u3002\u7136\u540e\u626b\u63cf\u7ebf\u626b\u4e00\u4e0b\u5c31\u884c\uff0c\u6bd4 B \u7b80\u5355\u3002</p> code <pre><code>//CF2163C\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 4e5 + 10;\nint T, n, a[2][N];\nint pmx[N], pmn[N], smx[N], smn[N];\nint tt[N];\n\nint main(){\n    scanf(\"%d\", &amp;T);\n    while(T --){\n        scanf(\"%d\", &amp;n);\n        for(int i = 1; i &lt;= n; ++ i){\n            tt[i] = tt[i+n] = 0;\n            scanf(\"%d\", &amp;a[0][i]);\n            if(i == 1){\n                pmx[i] = pmn[i] = a[0][i];\n            } else {\n                pmx[i] = max(pmx[i-1], a[0][i]);\n                pmn[i] = min(pmn[i-1], a[0][i]);\n            }\n        }\n        for(int i = 1; i &lt;= n; ++ i){\n            scanf(\"%d\", &amp;a[1][i]);\n        }\n        for(int i = n; i &gt;= 1; -- i){\n            if(i == n){\n                smx[i] = smn[i] = a[1][i];\n            } else {\n                smx[i] = max(smx[i+1], a[1][i]);\n                smn[i] = min(smn[i+1], a[1][i]);\n            }\n        }\n        for(int i = 1; i &lt;= n; ++ i){\n            int L = min(pmn[i], smn[i]);\n            int R = max(pmx[i], smx[i]);\n            tt[R] = max(tt[R], L);\n            // printf(\"%d %d\\n\", L, R);\n        }\n        long long cnt = 0;\n        int le = 0;\n        for(int i = 1; i &lt;= n + n; ++ i){\n            le = max(le, tt[i]);\n            cnt += le;\n        }\n        printf(\"%lld\\n\", cnt);\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2163/#d1d2-diadrash","title":"D1/D2. Diadrash","text":"\u9898\u610f <p>\u4ea4\u4e92\u9898\uff0c\u7ed9\u4f60 \\(q\\) \u82e5\u5e72\u4e2a\u533a\u95f4\uff0c\u4ea4\u4e92\u5e93\u6709\u4e00\u4e2a\u4f60\u4e0d\u77e5\u9053\u7684\u6392\u5217 \\(p\\)\uff0c\u6bcf\u6b21\u4efb\u610f\u6307\u5b9a\u8be2\u95ee\u533a\u95f4 \\([l,r]\\)\uff0c\u8fd4\u56de\u533a\u95f4\u7684 \\(\\operatorname{mex}\\)\uff0c\u6700\u540e\u8981\u627e\u5230\u8fd9 \\(q\\) \u4e2a\u533a\u95f4\u5185\u6700\u5927 \\(\\operatorname{mex}\\) \u7684\u503c\u3002 \u7b80\u5355\u7248\uff1a\\(300\\) \u6b21\u8be2\u95ee\uff0c\u56f0\u96be\u7248\uff1a\\(30\\) \u6b21\u8be2\u95ee\u3002\\(4\\leq n\\leq 10^4\\)\u3002</p> <p>\u89c2\u5bdf 1\uff1a\u5982\u679c\u4e00\u4e2a\u533a\u95f4\u5b8c\u5168\u88ab\u53e6\u4e00\u4e2a\u533a\u95f4\u5305\u542b\uff0c\u524d\u8005\u7684 \\(\\operatorname{mex}\\) \u4e25\u683c\u5c0f\u4e8e\u540e\u8005\uff0c\u662f\u6ca1\u7528\u7684\u3002</p> <p>\u89c2\u5bdf 2\uff1a\\(\\operatorname{mex}_{i\\in[l,r]}{a_i\\}=\\min(\\operatorname{mex_{i\\in[1,r]}\\{a_i}\\},\\operatorname{mex_{i\\in[l,n]}\\{a_i}\\})\\)\u3002\u8bc1\u660e\u4e0d\u96be\u3002</p> <p>\u7531\u89c2\u5bdf 2\uff0c\u8bbe\u533a\u95f4 \\([l,r]\\) \u7684 \\(\\operatorname{mex}\\) \u4e3a \\(k\\)\uff0c\u5982\u679c\u6211\u4eec\u67e5\u5230\u4e86 \\([1,r],[l,n]\\) \u7684 \\(\\operatorname{mex}\\)\uff0c\u4e14\u524d\u8005\u7684\u5c0f\u4e8e\u540e\u8005\u7684\u3002\u90a3\u4e48\u5bf9\u4e8e\u533a\u95f4 \\([l',r'],l'&lt;l,r'&lt;r\\)\uff0c\\([l',r']\\) \u7684\u7b54\u6848\u662f\u4e0d\u53ef\u80fd\u66f4\u4f18\u7684\uff0c\u56e0\u4e3a\u5e8f\u5217\u4e2d\u7684\u5143\u7d20 \\(k\\) \u4e00\u5b9a\u5728 \\((r,n]\\) \u4e4b\u4e2d\uff0c\u4e14\u8fd9\u4e2a\u533a\u95f4\u4e0e \\([l',r']\\) \u65e0\u4ea4\u3002</p> <p>\u540c\u7406\uff0c\u5982\u679c \\([1,r],[l,n]\\) \u7684 \\(\\operatorname{mex}\\) \u5747\u4e3a \\(k\\)\uff0c\u90a3\u4e48\u8fd9\u4e2a\u533a\u95f4 \\([l,r]\\) \u76f4\u63a5\u5c31\u662f\u6700\u4f18\u89e3\u4e86\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e8c\u5206\u533a\u95f4\uff1a\u5c06\u533a\u95f4\u6309\u7167\u5de6\u7aef\u70b9\u6392\u5e8f\uff0c\u7531\u89c2\u5bdf 1 \u5220\u6389\u82e5\u5e72\u65e0\u7528\u533a\u95f4\uff0c\u7136\u540e\u5269\u4e0b\u533a\u95f4\u4e24\u7aef\u70b9\u90fd\u662f\u6392\u597d\u5e8f\u7684\uff0c\u5728\u8fd9\u4e2a\u533a\u95f4\u5e8f\u5217\u4e0a\u8fdb\u884c\u4e8c\u5206\uff0c\u4e8c\u5206\u6536\u7f29\u65b9\u5411\u7531 \\([1,r],[l,n]\\) \u7684\u5927\u5c0f\u5173\u7cfb\u51b3\u5b9a\u3002\u603b\u8be2\u95ee\u6b21\u6570 \\(2\\log n\\)\u3002</p> code <pre><code>//CF2163D2\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 3e5 + 10;\nint T, n, q;\npair&lt;int, int&gt; a[N];\n\nbool cmp(pair&lt;int, int&gt; x, pair&lt;int, int&gt; y){\n    if(x.first != y.first){\n        return x.first &lt; y.first;\n    }\n    return x.second &gt; y.second;\n}\nint ask(int x, int y){\n    printf(\"? %d %d\\n\", x, y);\n    fflush(stdout);\n    scanf(\"%d\", &amp;x);\n    return x;\n}\n\nint main(){\n    scanf(\"%d\", &amp;T);\n    while(T--){\n        scanf(\"%d%d\", &amp;n, &amp;q);\n        for(int i = 1; i &lt;= q; ++ i){\n            scanf(\"%d%d\", &amp;a[i].first, &amp;a[i].second);\n        }\n        sort(a + 1, a + q + 1, cmp);\n        int L = 0;\n        int now = 0;\n        for(int i = 1; i &lt;= q; ++ i){\n            // printf(\"- %d %d\\n\", a[i].first, a[i].second, now);\n            if(a[i].second &gt; now){\n                now = a[i].second;\n                a[++L] = a[i];\n            }\n        }\n        int l = 1, r = L, ans = 0;\n        while(l &lt;= r){\n            int mid = l + r &gt;&gt; 1;\n            int le = ask(a[mid].first, n);\n            int ri = ask(1, a[mid].second);\n            ans = max(ans, min(le, ri));\n            if(le &lt; ri){\n                r = mid - 1;\n            } else {\n                l = mid + 1;\n            }\n        }\n        printf(\"! %d\\n\", ans);\n        fflush(stdout);\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2163/#e-plegma","title":"E. Plegma","text":"<p>???+ note \"\u9898\u610f\":     \u901a\u4fe1\u9898\uff0c\u5bf9\u4e8e Alice\uff0c\u7ed9\u4e00\u4e2a \\(n*n\\) \u7684 01 \u77e9\u9635\uff0cAlice \u8981\u8fd4\u56de\u4e24\u4e2a \\([1,n]\\) \u4e4b\u5185\u7684\u6570 \\(i,j\\)\uff1b\u5bf9\u4e8e Bob\uff0c\u5b83\u63a5\u6536\u5230 01 \u77e9\u9635\u7684\u7b2c \\(i\\) \u884c\uff0c\u7b2c \\(j\\) \u5217\u7684\u5177\u4f53\u503c\uff0c\u4f46\u662f\u4e0d\u77e5\u9053 \\(i,j\\) \u7684\u503c\uff0cBob \u9700\u8981\u8fd4\u56de\u8fd9\u4e2a 01 \u77e9\u9635\u4e2d\u6240\u6709 1 \u662f\u5426\u6784\u6210\u4e00\u4e2a\u56db\u8fde\u901a\u5757\u3002</p> <p>\u901a\u4fe1\u4f20\u9012\u7684\u4fe1\u606f\u91cf\u5176\u5b9e\u662f\u8fdc\u5927\u4e8e\u7b54\u6848\u7684\u4fe1\u606f\u91cf\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\uff0c\u80fd\u5426\u901a\u8fc7\u67d0\u4e00\u4f4d\u4f20\u9012\u4fe1\u606f\uff1f</p> <p>\u5b9a\u4e49 Bob \u6536\u5230\u7684\u4e24\u4e2a\u5b57\u7b26\u4e32\u4e3a\u884c\u4e32\u548c\u5217\u4e32\u3002</p> <p>\u5982\u679c\u7ea6\u5b9a Bob \u6536\u5230\u7684\u5217\u4e32\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e3a \\(1\\)\uff0c\u90a3\u4e48\u5c31\u662f\u8fde\u901a\uff0c\u5426\u5219\u4e0d\u8fde\u901a\uff0c\u8fd9\u6837\u53ef\u4ee5\u5417\uff1f</p> <p>\u53d1\u73b0\uff0c\u4f1a\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff1a\u7b2c\u4e00\u884c\u5168\u662f \\(1\\)\uff0c\u4e14\u4e0d\u8fde\u901a\uff0c\u8fd9\u6837\u7684\u8bdd\uff0cAlice \u65e0\u6cd5\u4f20\u9012\u4e00\u4e2a\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0d\u4e3a \\(1\\) \u7684\u5217\u4e32\u3002</p> <p>\u90a3\u4e48\u6b64\u65f6\u4f1a\u51fa\u73b0\u4e00\u4e2a\u66f4\u52a0\u663e\u8457\u7684\u7279\u5f81\uff1aAlice \u53ef\u4ee5\u4f20\u9012\u4e00\u4e2a\u5168\u4e3a \\(1\\) \u7684\u884c\u4e32\uff01\u540c\u7406\uff0c\u7b2c\u4e00\u884c\u5168\u4e3a \\(0\\) \u4e5f\u53ef\u4ee5\u4f20\u9012\u5168\u4e3a \\(0\\) \u7684\u884c\u4e32\u3002</p> <p>\u6700\u540e\u7684\u95ee\u9898\u662f\uff0c\u5982\u4f55\u533a\u5206\u7b2c\u4e00\u884c\u5168\u4e3a \\(0\\) \u4f46\u8fde\u901a/\u4e0d\u8fde\u901a\uff1f</p> <p>\u6211\u4eec\u53ea\u9700\u8981\u6362\u4e00\u4e2a\u65b9\u5411\uff0c\u5c31\u662f\u7528 \\(1\\) \u8868\u793a\u4e0d\u8fde\u901a\uff0c\\(0\\) \u8868\u793a\u8fde\u901a\u5373\u53ef\u3002</p> <p>\u5177\u4f53\u5730\uff1a</p> <p>\u7b2c\u4e00\u884c\u51681\uff1a \u8fde\u901a\uff1a\u51681\u884c + \u4efb\u610f\u5217 \u4e0d\u8fde\u901a\uff1a\u4efb\u610f\u975e\u51681\u884c + \u4efb\u610f\u5217</p> <p>\u7b2c\u4e00\u884c\u51680\uff1a \u8fde\u901a\uff1a\u4efb\u610f\u975e\u51680\u884c + \u4efb\u610f\u5217 \u4e0d\u8fde\u901a\uff1a\u51680\u884c + \u4efb\u610f\u5217</p> <p>\u7b2c\u4e00\u884c\u67090\u67091\uff1a \u8fde\u901a\uff1a\u7b2c\u4e00\u884c + \u7b2c\u4e00\u4f4d0\u7684\u5217 \u4e0d\u8fde\u901a\uff1a\u7b2c\u4e00\u884c + \u7b2c\u4e00\u4f4d1\u7684\u5217</p> <p>??? note \"code\":     <pre><code>//CF2163E\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 1010;\n\nint T, n, C;\nchar s[N][N];\nchar op[10];\n\nint main(){\n    scanf(\"%s\", op);\n    scanf(\"%d\", &amp;T);\n    while(T --){\n        if(op[0] == 'f'){\n            scanf(\"%d%d\", &amp;n, &amp;C);\n            for(int i = 1; i &lt;= n; ++ i){\n                scanf(\"%s\", s[i] + 1);\n            }\n            int c0 = 0, c1 = 0;\n            for(int j = 1; j &lt;= n; ++ j){\n                if(s[1][j] == '0'){\n                    c0 = j;\n                } else {\n                    c1 = j;\n                }\n            }\n            if(c0 == 0){\n                if(C == 1){\n                    printf(\"%d %d\\n\", 1, 1);\n                } else {\n                    int hang = 0;\n                    for(int i = 2; i &lt;= n; ++ i){\n                        bool flg = 0;\n                        for(int j = 1; j &lt;= n; ++ j){\n                            if(s[i][j] == '0'){\n                                flg = 1;\n                                break;\n                            }\n                        }\n                        if(flg){\n                            hang = i;\n                            break;\n                        }\n                    }\n                    printf(\"%d %d\\n\", hang, 1);\n                }\n            } else if(c1 == 0){\n                if(C == 0){\n                    printf(\"%d %d\\n\", 1, 1);\n                } else {\n                    int hang = 0;\n                    for(int i = 2; i &lt;= n; ++ i){\n                        bool flg = 0;\n                        for(int j = 1; j &lt;= n; ++ j){\n                            if(s[i][j] == '1'){\n                                flg = 1;\n                                break;\n                            }\n                        }\n                        if(flg){\n                            hang = i;\n                            break;\n                        }\n                    }\n                    printf(\"%d %d\\n\", hang, 1);\n                }\n            } else {\n                for(int j = 1; j &lt;= n; ++ j){\n                    if(s[1][j] - '0' != C){\n                        printf(\"%d %d\\n\", 1, j);\n                        break;\n                    }\n                }\n            }\n        } else {\n            scanf(\"%d\", &amp;n);\n            scanf(\"%s%s\", s[1] + 1, s[2] + 1);\n            int c0 = 0, c1 = 0;\n            for(int i = 1; i &lt;= n; ++ i){\n                if(s[1][i] == '0'){\n                    c0 = i;\n                } else if(s[1][i] == '1'){\n                    c1 = i;\n                }\n            }\n            if(c0 == 0){\n                puts(\"1\");\n            } else if(c1 == 0){\n                puts(\"0\");\n            } else {\n                if(s[2][1] == '0'){\n                    puts(\"1\");\n                } else {\n                    puts(\"0\");\n                }\n            }\n        }\n    }\n    return 0;\n}\n</code></pre></p>"},{"location":"CodeForces/2164/","title":"No.2164 Global Round","text":"<p>Contest Link: https://codeforces.com/contest/2164\u3002</p>"},{"location":"CodeForces/2164/#a-sequence-game","title":"A. Sequence Game","text":"<p>\u68c0\u9a8c\u662f\u5426\u6709 \\(\\min a\\leq x \\leq \\max a\\) \u5373\u53ef\u3002</p> code <pre><code>//CF2164A\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 110;\nint n, a[N], x;\n\nint main(){\n    int T;\n    scanf(\"%d\", &amp;T);\n    while(T--){\n        scanf(\"%d\", &amp;n);\n        for(int i = 1; i &lt;= n ;++ i){\n            scanf(\"%d\", &amp;a[i]);\n        }\n        scanf(\"%d\", &amp;x);\n        sort(a + 1, a + n + 1);\n        if(x &lt; a[1] || x &gt; a[n]){\n            puts(\"No\");\n        } else {\n            puts(\"Yes\");\n        }\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2164/#b-even-modulo-pair","title":"B. Even Modulo Pair","text":"<p>\u66b4\u529b\u590d\u6742\u5ea6\u662f\u6b63\u786e\u7684\uff01\u8003\u8651 <code>-1</code> \u7684\u6761\u4ef6\uff1a\u6709\u4e24\u4e2a\u5076\u6570\u4e0d\u884c\uff0c\u6709\u4e24\u4e2a\u5947\u6570\uff0c\u5927\u7684\u5c0f\u4e8e\u5c0f\u7684\u4e24\u500d\u4e0d\u884c\uff0c\u6240\u4ee5\uff0c<code>-1</code> \u7684\u5e8f\u5217\u957f\u5ea6\u4e3a \\(O(\\log V)\\) \u7684\u3002</p> <p>\u7136\u540e\u4f60\u76f4\u63a5\u66b4\u529b\uff0c\u6216\u8005\u591a\u968f\u51e0\u7ec4\u5c31\u80fd\u8fc7\u3002</p> code <pre><code>//CF2164B\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 1e5 + 10;\nint T, n, a[N];\n\nint main(){\n    scanf(\"%d\", &amp;T);\n    while(T--){\n        scanf(\"%d\", &amp;n);\n        for(int i = 1; i &lt;= n; ++ i){\n            scanf(\"%d\", &amp;a[i]);\n        }\n        sort(a + 1, a + n + 1);\n        bool flg = 1;\n        for(int i = 1; i &lt;= 500; ++ i){\n            int x = rand() % n + 1;\n            int y = rand() % n + 1;\n            if(x &gt; y) swap(x, y);\n            if(x &lt; y &amp;&amp; (a[y] % a[x]) % 2 == 0){\n                flg = 0;\n                printf(\"%d %d\\n\", a[x], a[y]);\n                break;\n            }\n        }\n        if(flg){\n            puts(\"-1\");\n        }\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2164/#c-dungeon","title":"C. Dungeon","text":"<p>\u6709\u8d2a\u5fc3\u7684\u6253\u602a\u7b56\u7565\uff1a\u5148\u6253 \\(b\\leq c\\) \u7684\uff0c\u8fd9\u90e8\u5206\u6309\u7167 \\(b\\) \u4ece\u5c0f\u5f80\u5927\u6253\uff0c\u6bcf\u6b21\u9009\u80fd\u6253\u8d62\u7684\u653b\u51fb\u529b\u6700\u4f4e\u7684\u6b66\u5668\uff1b\u518d\u6253 \\(b\\geq c\\) \u7684\uff0c\u600e\u4e48\u6253\u90fd\u884c\uff0c\u53cd\u6b63\u6ca1\u635f\u8017\uff1b\u6700\u540e\u6253 \\(c=0\\) \u7684\uff0c\u6bcf\u6b21\u9009\u80fd\u6253\u8d62\u7684\u653b\u51fb\u529b\u6700\u4f4e\u7684\u6b66\u5668\uff0c\u56e0\u4e3a\u8981\u6d88\u8017\u6389\u6b66\u5668\u3002</p> code <pre><code>//CF2164C\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 2e5 + 10;\nint T, n, m, b[N], c[N];\nvector&lt;pair&lt;int, int&gt; &gt; up;\nvector&lt;int&gt; dn, zr;\n\nint main(){\n    scanf(\"%d\", &amp;T);\n    while(T--){\n        scanf(\"%d%d\", &amp;n, &amp;m);\n        multiset&lt;int&gt; st;\n        vector&lt;pair&lt;int, int&gt; &gt; ().swap(up);\n        vector&lt;int&gt; ().swap(dn);\n        vector&lt;int&gt; ().swap(zr);\n        for(int i = 1; i &lt;= n; ++ i){\n            int x;\n            scanf(\"%d\", &amp;x);\n            st.insert(x);\n        }\n        for(int i = 1; i &lt;= m; ++ i){\n            scanf(\"%d\", &amp;b[i]);\n        }\n        for(int i = 1; i &lt;= m; ++ i){\n            scanf(\"%d\", &amp;c[i]);\n            if(c[i] == 0){\n                zr.push_back(b[i]);\n            } else if(c[i] &lt;= b[i]){\n                dn.push_back(b[i]);\n            } else {\n                up.push_back(make_pair(b[i], c[i]));\n            }\n        }\n        sort(up.begin(), up.end());\n        sort(zr.begin(), zr.end());\n        int cnt = 0;\n        for(auto i : up){\n            int x = i.first;\n            if(st.lower_bound(x) != st.end()){\n                auto it = st.lower_bound(x);\n                int val = max(*it, i.second);\n                st.erase(it);\n                st.insert(val);\n                ++ cnt;\n            }\n        }\n        for(auto i : dn){\n            if(st.lower_bound(i) != st.end()){\n                ++ cnt;\n            }\n        }\n        for(auto i : zr){\n            if(st.lower_bound(i) != st.end()){\n                auto it = st.lower_bound(i);\n                st.erase(it);\n                ++ cnt;\n            }\n        }\n        printf(\"%d\\n\", cnt);\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2164/#d-copy-string","title":"D. Copy String","text":"<p>\u4e8c\u5206\uff0c\u7136\u540e\u53cc\u6307\u9488\uff0c\u7b2c\u4e00\u4e2a\u4e32\u4e2d\u4f4d\u7f6e \\(i\\) \u53ef\u4ee5\u5339\u914d\u7b2c\u4e8c\u4e2a\u4e32\u4e2d \\([i,i+r]\\) \u4e2d\u7684\u67d0\u4e00\u6bb5\uff0c\u4ece\u5de6\u5f80\u53f3\u8d2a\u5fc3\u5339\u914d\u5c31\u884c\u3002</p> code <pre><code>//CF2164D\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 1e6 + 10;\nint T, n, K;\nchar s[N], t[N];\nint rr[N];\n\nbool chk(int len){\n    int j = 0;\n    for(int i = 1; i &lt;= n; ++ i){\n        if(i - 1 &gt; j){\n            return 0;\n        }\n        while(j &lt; n &amp;&amp; t[j+1] == s[i] &amp;&amp; j - i &lt; len){\n            ++ j;\n        }\n        rr[i] = j;\n    }\n    return j == n;\n}\n\nint main(){\n    scanf(\"%d\", &amp;T);\n    while(T--){\n        scanf(\"%d%d\", &amp;n, &amp;K);\n        scanf(\"%s%s\", s + 1, t + 1);\n        if(!chk(K)){\n            puts(\"-1\");\n        } else {\n            int l = 0, r = K;\n            while(l &lt; r){\n                int mid = l + r &gt;&gt; 1;\n                if(chk(mid)){\n                    r = mid;\n                } else {\n                    l = mid + 1;\n                }\n            }\n            chk(l);\n            printf(\"%d\\n\", l);\n            // for(int i = 1; i &lt;= n; ++ i){\n            //     printf(\"%d \", rr[i]);\n            // }puts(\"\");\n            for(int i = 1; i &lt;= l; ++ i){\n                // int cc = 0;\n                for(int j = 1; j &lt;= n; ++ j){\n                    for(int k = min(rr[j-1], j + i - 1) + 1; k &lt;= min(rr[j], j + i); ++ k){\n                        putchar(s[j]);\n                        // ++ cc;\n                    }\n                }\n                // for(int j = cc + 1; j &lt;= n; ++ j){\n                //     putchar(s[j]);\n                // }\n                putchar('\\n');\n            }\n        }\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2164/#e-journey","title":"E. Journey","text":"<p>\u95ee\u9898\u8f6c\u5316\u4e3a\uff0c\u5bf9\u4e8e\u6240\u6709\u5947\u6570\u5ea6\u6570\u70b9\u4e4b\u95f4\u8dd1\u4e00\u7ec4\u5339\u914d\uff0c\u8fb9\u6743\u4e3a\u6309\u7167\u9898\u610f\u8fd9\u4e24\u70b9\u4e4b\u95f4\u7f16\u53f7\u6700\u5927\u7684\u8fb9\u8fb9\u6743\u6700\u5c0f\u80fd\u662f\u591a\u5c11\uff0c\u7136\u540e\u6c42\u6700\u5c0f\u5339\u914d\u5927\u5c0f\u3002</p> <p>\u8003\u8651\u6309\u7167\u8fb9\u7684\u7f16\u53f7\u4ece\u5c0f\u5230\u5927\u5efa kruskal \u91cd\u6784\u6811\uff0c\u90a3\u4e48\u4e24\u4e2a\u70b9\u8fde\u8fb9\u7684\u6700\u5c0f\u8fb9\u6743\u5c31\u76f8\u5f53\u4e8e\u5b83\u4eec\u7684 lca \u7684\u6839\u94fe\u4e0a\u7684\u6700\u5c0f\u8fb9\u6743\u3002\u7136\u540e\u6211\u4eec\u5efa\u51fa\u6811\u540e dfs \u4e00\u904d\u5c06\u7236\u8fb9\u7684\u8fb9\u6743\u4e0b\u4f20\u4e0b\u53bb\uff0c\u8fd9\u6837\u7684\u8bdd\uff0c\u6bcf\u4e24\u4e2a\u5947\u6570\u70b9\u4e00\u5b9a\u5728 lca \u5904\u5339\u914d\u6389\uff0c\u6240\u4ee5\u4e00\u6761\u8fb9\u6709\u8d21\u732e\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b83\u5b50\u6811\u5185\u5947\u6570\u70b9\u4e2a\u6570\u4e3a\u5947\u6570\u3002\u7cbe\u7ec6\u5b9e\u73b0\u4e00\u4e0b\u53ef\u4ee5\u5199\u7684\u5f88\u77ed\u3002</p> code <pre><code>//CF2164E\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 2e6 + 10;\nint T, n, m;\nint eg[N][3];\nint deg[N], fa[N], val[N], nd[N];\nint fae[N];\n\nint gf(int x){\n    return x == fa[x] ? x : fa[x] = gf(fa[x]);\n}\n\nint main(){\n    scanf(\"%d\", &amp;T);\n    while(T --){\n        scanf(\"%d%d\", &amp;n, &amp;m);\n        for(int i = 1; i &lt;= n + n; ++ i){\n            deg[i] = 0;\n            fa[i] = i;\n            nd[i] = 0;\n            val[i] = 1e9;\n            fae[i] = 0;\n        }\n        long long ans = 0;\n        for(int i = 1; i &lt;= m; ++ i){\n            int u, v, w;\n            scanf(\"%d%d%d\", &amp;u, &amp;v, &amp;w);\n            eg[i][0] = u;\n            eg[i][1] = v;\n            eg[i][2] = w;\n            deg[u] ^= 1;\n            deg[v] ^= 1;\n            ans += w;\n        }\n        int cnt = n;\n        for(int i = 1; i &lt;= m; ++ i){\n            int u = gf(eg[i][0]);\n            int v = gf(eg[i][1]);\n            int w = eg[i][2];\n            if(u == v){\n                val[u] = min(val[u], w);\n            } else {\n                ++ cnt;\n                if(deg[u] &amp;&amp; deg[v]){\n                    nd[cnt] = 1;\n                }\n                deg[cnt] = deg[u] ^ deg[v];\n                fa[u] = fa[v] = cnt;\n                fae[u] = fae[v] = cnt;\n                val[cnt] = w;\n            }\n        }\n        for(int i = n + n - 1; i &gt;= 1; -- i){\n            if(fae[i]){\n                val[i] = min(val[i], val[fae[i]]);\n            }\n            if(nd[i]){\n                ans += val[i];\n            }\n        }\n        printf(\"%lld\\n\", ans);\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2164/#f1f2-chain-prefix-rank","title":"F1/F2. Chain Prefix Rank","text":"\u9898\u610f <p>\u7ed9\u4f60\u4e00\u68f5\u6811\uff0c\u6bcf\u4e2a\u70b9\u6709\u70b9\u6743 \\(a\\)\uff0c\u8ba1\u6570\u6709\u591a\u5c11\u4e2a\u6392\u5217 \\(p\\)\uff0c\u4f7f\u5f97\u5bf9\u4e8e\u6240\u6709 \\(i\\)\uff0c\u6709 \\(a_i\\) \u4e2a \\(i\\) \u7684\u7956\u5148\u7684 \\(p\\) \u503c\u5c0f\u4e8e \\(p_i\\)\u3002 \u7b80\u5355\u7248\uff1a\\(n\\leq 5000\\)\uff1b\u56f0\u96be\u7248\uff1a\\(n\\leq 5\\times 10^5\\)\u3002</p> <p>\u6211\u4eec\u8003\u8651\u8ba1\u7b97\u4e00\u4e2a\u53f6\u5b50 \\(i\\)\uff0c\u8003\u8651\u5b83\u7684\u4e00\u6761\u6839\u94fe\uff0c\u663e\u7136\u8fd9\u6761\u94fe\u4e0a\u6bcf\u4e2a\u70b9\u7684\u4e24\u4e24\u5927\u5c0f\u5173\u7cfb\u662f\u56fa\u5b9a\u7684\uff08\u8003\u8651\u4ece\u4e0a\u5230\u4e0b\u52a0\u5165\u6bcf\u4e2a\u70b9\uff09\u3002\u7136\u540e\uff0c\u8003\u8651\u8fd9\u4e2a\u53f6\u5b50\u8282\u70b9\u7684\u7236\u4eb2 \\(j\\)\uff0c\u90a3\u4e48 \\(p_i\\) \u7684\u5177\u4f53\u5927\u5c0f\u5c31\u6ca1\u6709\u7528\u4e86\uff01\u6211\u4eec\u53ea\u5173\u5fc3\u5b83\u653e\u5728 \\(j\\) \u7684\u6839\u94fe\u4e0a\u8fd9\u4e9b\u70b9\u4e2d\u54ea\u4e24\u4e2a\u70b9\u4e4b\u95f4\u5c31\u884c\uff0c\u90a3\u4e48\u5bf9\u4e8e \\(j\\) \u7684\u4e0d\u540c\u5b50\u6811\uff0c\u8fd9\u4e2a\u4fe1\u606f\u662f\u53ef\u4ee5\u5408\u5e76\u7684\uff0c\u7136\u540e\u5408\u5e76\u8fc7\u7a0b\u4e2d\uff0c\u4e24\u68f5\u5b50\u6811\u7684\u90e8\u5206\u5408\u5e76\u8d77\u6765\u4f1a\u4e58\u4ee5\u4e00\u4e2a\u7ec4\u5408\u6570\uff0c\u7136\u540e\u628a\u8fd9\u4e9b\u7ec4\u5408\u6570\u5168\u90e8\u4e58\u8d77\u6765\u5c31\u5f97\u5230\u4e86\u7b54\u6848\u3002</p> <p>\u5177\u4f53\u7684\uff0c\u8bbe \\(f_{i,j}\\) \u8868\u793a \\(i\\) \u5b50\u6811\u5185\uff0c\u6709\u591a\u5c11\u4e2a\u70b9\u8fd8\u9700\u8981\u5728 \\(i\\) \u7684\u7956\u5148\u4e2d\u653e \\(j\\) \u4e2a\u5c0f\u4e8e\u5b83\u7684\u70b9\u624d\u80fd\u7b26\u5408\u9898\u610f\u3002\u5408\u5e76\u7684\u65f6\u5019\u5c31\u662f \\(f_{x,j}+f_{y,j}\\to f_{i,j}\\)\uff0c\u5168\u5c40\u7684\u7b54\u6848\u4e58\u4e0a\u7ec4\u5408\u6570 \\(\\dbinom {f_{x,j}+f_{y,j}}{f_{y,j}}\\)\u3002\u6700\u540e\u5c06 \\(i\\) \u63d2\u5165\u5230\u72b6\u6001\u4e2d\uff0c\u5c31\u662f\u5408\u5e76 \\(f_{i,a_i}\\) \u548c \\(f_{i,a_{i+1}}\\)\uff0c\u6ce8\u610f\u6b64\u65f6 \\(i\\) \u4e00\u5b9a\u662f\u4f4d\u4e8e\u8fd9\u4e24\u4e2a\u4e2d\u95f4\uff0c\u6240\u4ee5\u53ea\u6709\u4e00\u79cd\u65b9\u6848\uff0c\u6700\u540e\u662f \\(a_{i+1}\\) \u540e\u9762\u7684\u4e0b\u6807\u5168\u4f53\u5de6\u79fb\u4e00\u4f4d\u3002</p> <p>\u76f4\u63a5\u8ba1\u7b97\u590d\u6742\u5ea6 \\(O(n^2)\\)\uff0c\u53ef\u4ee5\u901a\u8fc7 F1\u3002\u4f18\u5316\u662f\u8003\u8651\u542f\u53d1\u5f0f\u5408\u5e76\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u70b9\u7ef4\u62a4\u5728\u7b2c\u4e8c\u7ef4\u4e0b\u6807\u4e0a\u7684\u5e73\u8861\u6811\uff0c\u7136\u540e\u7ef4\u62a4 tag \u8868\u793a\u4e0b\u6807\u7684\u504f\u79fb\u91cf\u5373\u53ef\u3002\u590d\u6742\u5ea6 \\(O(n\\log^2 n)\\)\uff0c\u53ef\u4ee5\u901a\u8fc7 F2\u3002</p> F1F2 code <pre><code>//CF2164F1\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 5010;\nint T, n, fa[N], a[N];\ntypedef long long ll;\nconst ll P = 998244353;\nll fac[N], inv[N];\n\nll qp(ll x, ll y){\n    ll ans = 1;\n    while(y){\n        if(y &amp; 1){\n            ans = ans * x % P;\n        }\n        x = x * x % P;\n        y &gt;&gt;= 1;\n    }\n    return ans;\n}\nll C(int x, int y){\n    if(x &lt; 0 || y &lt; 0 || x &lt; y){\n        return 0;\n    }\n    return fac[x] * inv[y] % P * inv[x-y] % P;\n}\n\nint f[N][N];\nint dep[N];\nvector&lt;int&gt; g[N];\nll ans;\n\nvoid dfs(int x){\n    if(!g[x].size()){\n        f[x][a[x]] = 1;\n        return;\n    }\n    for(int i : g[x]){\n        dfs(i);\n        for(int j = 0; j &lt;= n; ++ j){\n            ans = ans * C(f[x][j] + f[i][j], f[i][j]) % P;\n            f[x][j] += f[i][j];\n        }\n    }\n    for(int j = a[x]; j &lt; n; ++ j){\n        f[x][j] += f[x][j+1];\n        f[x][j+1] = 0;\n    }\n    ++ f[x][a[x]];\n}\n\nint main(){\n    n = 5000;\n    fac[0] = 1;\n    for(int i = 1; i &lt;= n; ++ i){\n        fac[i] = fac[i-1] * i % P;\n    }\n    inv[n] = qp(fac[n], P - 2);\n    for(int i = n - 1; i &gt;= 0; -- i){\n        inv[i] = inv[i+1] * (i + 1) % P;\n    }\n    scanf(\"%d\", &amp;T);\n    while(T--){\n        scanf(\"%d\", &amp;n);\n        ans = 1;\n        for(int i = 1; i &lt;= n; ++ i){\n            vector&lt;int&gt; ().swap(g[i]);\n            memset(f[i], 0, sizeof(f[i]));\n        }\n        for(int i = 2; i &lt;= n; ++ i){\n            scanf(\"%d\", &amp;fa[i]);\n            dep[i] = dep[fa[i]] + 1;\n            g[fa[i]].push_back(i);\n        }\n        for(int i = 1; i &lt;= n; ++ i){\n            scanf(\"%d\", &amp;a[i]);\n        }\n        dfs(1);\n        printf(\"%lld\\n\", ans);\n    }\n    return 0;\n}\n</code></pre> code <pre><code>//CF2164F2\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 500010;\nint T, n, fa[N], a[N];\ntypedef long long ll;\nconst ll P = 998244353;\nll fac[N], inv[N];\n\nll qp(ll x, ll y){\n    ll ans = 1;\n    while(y){\n        if(y &amp; 1){\n            ans = ans * x % P;\n        }\n        x = x * x % P;\n        y &gt;&gt;= 1;\n    }\n    return ans;\n}\nll C(int x, int y){\n    if(x &lt; 0 || y &lt; 0 || x &lt; y){\n        return 0;\n    }\n    return fac[x] * inv[y] % P * inv[x-y] % P;\n}\n\nvector&lt;int&gt; g[N];\nll ans;\n\nstruct node{\n    int ls, rs, pos, tag, val, siz, pri;\n} t[N*20];\nint rt[N], tot;\nint nnd(int x, int vl){\n    ++ tot;\n    t[tot].pos = x;\n    t[tot].ls = t[tot].rs = t[tot].tag = 0;\n    t[tot].val = vl;\n    t[tot].siz = 1;\n    t[tot].pri = rand();\n    return tot;\n}\nvoid upd(int x){\n    t[x].siz = t[t[x].ls].siz + 1 + t[t[x].rs].siz;\n}\nvoid psd(int x){\n    if(!t[x].tag){\n        return;\n    }\n    if(t[x].ls){\n        t[t[x].ls].pos -= t[x].tag;\n        t[t[x].ls].tag += t[x].tag;\n    }\n    if(t[x].rs){\n        t[t[x].rs].pos -= t[x].tag;\n        t[t[x].rs].tag += t[x].tag;\n    }\n    t[x].tag = 0;\n}\nint mg(int p, int q){\n    psd(p);\n    psd(q);\n    if(!p || !q){\n        return p + q;\n    } else if(t[p].pri &lt; t[q].pri){\n        t[p].rs = mg(t[p].rs, q);\n        upd(p);\n        return p;\n    } else {\n        t[q].ls = mg(p, t[q].ls);\n        upd(q);\n        return q;\n    }\n}\nvoid sp(int p, int k, int &amp;x, int &amp;y){\n    if(!p){\n        x = y = 0;\n        return;\n    }\n    psd(p);\n    if(t[p].pos &lt;= k){\n        x = p;\n        sp(t[p].rs, k, t[p].rs, y);\n    } else {\n        y = p;\n        sp(t[p].ls, k, x, t[p].ls);\n    }\n    upd(p);\n}\nvoid add(int &amp;p, int pos, int val, int op){\n    int x = 0, y = 0, z = 0;\n    sp(p, pos, x, z);\n    sp(x, pos-1, x, y);\n    if(!y){\n        y = nnd(pos, val);\n    } else {\n        if(op){\n            ans = ans * C(val + t[y].val, val) % P;\n        }\n        t[y].val += val;\n    }\n    x = mg(x, y);\n    p = mg(x, z);\n}\nvoid comb(int p, int q){\n    if(!q){\n        return;\n    }\n    psd(q);\n    add(rt[p], t[q].pos, t[q].val, 1);\n    comb(p, t[q].ls);\n    comb(p, t[q].rs);\n}\nvoid weiy(int p, int pos){\n    int x = 0, y = 0, z = 0;\n    sp(rt[p], pos, x, z);\n    sp(z, pos+1, y, z);\n    if(z){\n        t[z].tag += 1;\n        t[z].pos -= 1;\n    }\n    if(y){\n        add(x, t[y].pos - 1, t[y].val, 0);\n    }\n    rt[p] = mg(x, z);\n}\nvoid dfs(int x){\n    if(!g[x].size()){\n        rt[x] = nnd(a[x], 1);\n        return;\n    }\n    for(int i : g[x]){\n        dfs(i);\n        if(t[rt[x]].siz &lt; t[rt[i]].siz){\n            comb(i, rt[x]);\n            swap(rt[x], rt[i]);\n        } else {\n            comb(x, rt[i]);\n        }\n    }\n    add(rt[x], a[x], 1, 0);\n    weiy(x, a[x]);\n}\n\nint main(){\n    srand(5);\n    n = 500000;\n    fac[0] = 1;\n    for(int i = 1; i &lt;= n; ++ i){\n        fac[i] = fac[i-1] * i % P;\n    }\n    inv[n] = qp(fac[n], P - 2);\n    for(int i = n - 1; i &gt;= 0; -- i){\n        inv[i] = inv[i+1] * (i + 1) % P;\n    }\n    scanf(\"%d\", &amp;T);\n    while(T--){\n        tot = 0;\n        scanf(\"%d\", &amp;n);\n        ans = 1;\n        for(int i = 1; i &lt;= n; ++ i){\n            rt[i] = 0;\n            vector&lt;int&gt; ().swap(g[i]);\n        }\n        for(int i = 2; i &lt;= n; ++ i){\n            scanf(\"%d\", &amp;fa[i]);\n            g[fa[i]].push_back(i);\n        }\n        for(int i = 1; i &lt;= n; ++ i){\n            scanf(\"%d\", &amp;a[i]);\n        }\n        dfs(1);\n        printf(\"%lld\\n\", ans);\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2164/#g-pointless-machine","title":"G. Pointless Machine","text":"\u9898\u610f <p>\u4ea4\u4e92\u9898\uff0c\u4ea4\u4e92\u5e93\u6709\u4e00\u68f5\u6811\uff0c\u6bcf\u6b21\u8be2\u95ee\u95ee\u4e00\u4e2a\u6392\u5217 \\(p_1,p_2,...,p_n\\)\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4 \\(q\\)\uff0c\u5176\u4e2d \\(q_i\\) \u8868\u793a \\(p_1,p_2,...,p_i\\) \u7684\u5bfc\u51fa\u5b50\u56fe\u7684\u8fb9\u6570\u3002\u4ea4\u4e92\u5e93\u662f\u79bb\u7ebf\u56de\u7b54\uff0c\u610f\u5473\u7740\u6240\u6709\u8be2\u95ee\u95ee\u5b8c\u540e\u624d\u4f1a\u7ed9\u51fa\u7b54\u590d\u3002 \\(31\\) \u6b21\u8be2\u95ee\uff0c\\(n\\leq 50000\\)\uff0c\u95ee\u51fa\u6811\u7684\u5f62\u6001\u3002</p> <p>\u6bcf\u6b21\u8be2\u95ee\u5176\u5b9e\u76f8\u5f53\u4e8e\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053 \\(p_i\\) \u5230 \\(p_1,p_2,...,p_{i-1}\\) \u4e4b\u95f4\u8fde\u7684\u8fb9\u6570\u3002</p> <p>\u4e00\u4e2a\u89c2\u5bdf\uff1a\u53ef\u4ee5\u901a\u8fc7\u4e24\u6b21\u8be2\u95ee\u95ee\u51fa\u6bcf\u4e2a\u70b9\u5ea6\u6570\u3002\u8be2\u95ee \\(1,2,...,n\\) \u548c \\(n,n-1,...1\\) \u5373\u53ef\u3002</p> <p>\u8fd9\u542f\u793a\u6211\u4eec\u53bb\u8fdb\u884c\u62d3\u6251\u6392\u5e8f\uff0c\u6211\u4eec\u53ea\u9700\u8981\u60f3\u529e\u6cd5\u627e\u5230\u6bcf\u4e2a\u53f6\u5b50\u8fde\u51fa\u53bb\u7684\u552f\u4e00\u4e00\u6761\u8fb9\u5373\u53ef\u3002</p> <p>\u4e00\u4e2a\u7ecf\u5178 trick \u662f\u4e8c\u8fdb\u5236\u62c6\u5206\uff0c\u6211\u4eec\u5047\u8bbe\u7b2c \\(i\\) \u4f4d\u4e3a \\(0\\) \u7684\u70b9\u662f\u96c6\u5408 \\(S\\)\uff0c\u5426\u5219\u662f\u96c6\u5408 \\(T\\)\uff0c\u90a3\u4e48\u6211\u4eec\u5148\u95ee\u4e00\u6b21 \\(S,T\\)\uff0c\u518d\u95ee\u4e00\u6b21 \\(T,S\\)\uff0c\u5c31\u53ef\u4ee5\u77e5\u9053 \\(S\\) \u5185\u4efb\u610f\u4e00\u4e2a\u70b9\u8fde\u5411\u6574\u4e2a \\(T\\) \u7684\u8fb9\u6570\u4e86\uff01\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u90fd\u95ee\u4e00\u6b21\uff0c\u5c31\u53ef\u4ee5\u5b9a\u4f4d\u5230\u5177\u4f53\u7684\u70b9\u3002</p> <p>\u603b\u5171\u7684\u8be2\u95ee\u6b21\u6570\u662f \\(2+2\\log_2(n)\\)\uff0c\u7565\u5927\u4e8e \\(31\\)\u3002</p> <p>\u53e6\u4e00\u4e2a\u7ecf\u5178\u7ed3\u8bba\u662f\uff0c\\(3\\) \u6bd4 \\(2\\) \u66f4\u63a5\u8fd1 \\(e\\)\uff0c\u6240\u4ee5\u6362\u6210\u4e09\u8fdb\u5236\u8bd5\u4e00\u8bd5\uff1f\u6bcf\u6b21\u5206\u6210 \\(A,B,C\\) \u4e09\u4e2a\u96c6\u5408\uff0c\u95ee \\(A,B,C\\),\\(B,C,A\\),\\(C,A,B\\) \u5373\u53ef\u77e5\u9053\u6bcf\u4e00\u4e2a\u70b9\u5230\u6bcf\u4e00\u4e2a\u96c6\u5408\u5185\u7684\u8fb9\u6570\u3002\u603b\u5171\u8be2\u95ee\u6b21\u6570 \\(2+3\\log_3(n)=32\\)\u3002</p> <p>\u53d1\u73b0\u5176\u5b9e\u5728\u4e8c\u8fdb\u5236\u62c6\u5206\u7684\u8fc7\u7a0b\u4e2d\u4e5f\u4f1a\u95ee\u5230\u4e00\u6b21 \\(1,2,3,...,n\\)\uff0c\u90a3\u4e48\u5176\u5b9e\u53ea\u7528\u95ee \\(31\\) \u6b21\u4e86\u3002</p> code <pre><code>//CF2164G\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 60000;\nint T, n;\nint pw[11];\nint tri[N][11];\nint ans[35][N];\nint deg[N];\nint egc[N][11][3];\nint pos[N][35];\n\nint main(){\n    pw[0] = 1;\n    for(int i = 1; i &lt;= 10; ++ i){\n        pw[i] = pw[i-1] * 3;\n    }\n    n = 50000;\n    for(int i = 0; i &lt; n; ++ i){\n        int now = i;\n        for(int j = 0; j &lt; 10; ++ j){\n            tri[i][j] = now % 3;\n            now /= 3;\n        }\n    }\n    scanf(\"%d\", &amp;T);\n    while(T--){\n        scanf(\"%d\", &amp;n);\n        int c = 0, st = 1;\n        while(st &lt; n){\n            st *= 3;\n            ++ c;\n        }\n        printf(\"%d\\n\", 1 + c * 3);\n        int kk = 0;\n        for(int i = c-1; i &gt;= 0; -- i){\n            vector&lt;int&gt; ask[3];\n            for(int j = 0; j &lt; n; ++ j){\n                ask[tri[j][i]].push_back(j);\n            }\n            for(int j = 0; j &lt; 3; ++ j){\n                int cc = 1;\n                ++ kk;\n                for(int k : ask[j]){\n                    printf(\"%d \", k + 1);\n                    pos[k][kk] = cc++;\n                }\n                for(int k : ask[(j+1)%3]){\n                    printf(\"%d \", k + 1);\n                    pos[k][kk] = cc++;\n                }\n                for(int k : ask[(j+2)%3]){\n                    printf(\"%d \", k + 1);\n                    pos[k][kk] = cc++;\n                }\n                puts(\"\");\n            }\n        }\n        for(int i = n; i &gt;= 1; -- i){\n            printf(\"%d \", i);\n            pos[i-1][c*3+1] = n - i + 1;\n        }\n        puts(\"\");\n        fflush(stdout);\n        for(int i = 1; i &lt;= c * 3 + 1; ++ i){\n            for(int j = 1; j &lt;= n; ++ j){\n                scanf(\"%d\", &amp;ans[i][j]);\n            }\n        }\n        #define qry(id, pp) (ans[id][pos[pp][id]] - ans[id][pos[pp][id]-1])\n        // for(int i = 1; i &lt;= c+c+c+1; ++ i){\n        //     printf(\"%d :\", i);\n        //     for(int j = 0; j &lt; n; ++ j){\n        //         printf(\"[%d|%d|%d]\", j, pos[j][i], qry(i, j));\n        //     }\n        //     puts(\"\");\n        // }\n        // puts(\"------\");\n        queue&lt;int&gt; q;\n        for(int i = 0; i &lt; n; ++ i){\n            deg[i] = qry(1, i) + qry(c*3+1, i);\n            // printf(\"%d %d\\n\", i, deg[i]);\n            if(deg[i] == 1){\n                q.push(i);\n            }\n            int p = 1;\n            for(int j = c-1; j &gt;= 0; -- j){\n                //p, p+1, p+2\n                if(tri[i][j] == 0){\n                    egc[i][j][2] = qry(p+2, i) - qry(p, i);\n                    egc[i][j][1] = qry(p+1, i) - qry(p+2, i);\n                    egc[i][j][0] = deg[i] - egc[i][j][1] - egc[i][j][2];\n                } else if(tri[i][j] == 1){\n                    egc[i][j][0] = qry(p, i) - qry(p+1, i);\n                    egc[i][j][2] = qry(p+2, i) - qry(p, i);\n                    egc[i][j][1] = deg[i] - egc[i][j][0] - egc[i][j][2];\n                } else {\n                    egc[i][j][1] = qry(p+1, i) - qry(p+2, i);\n                    egc[i][j][0] = qry(p, i) - qry(p+1, i);\n                    egc[i][j][2] = deg[i] - egc[i][j][0] - egc[i][j][1];\n                }\n                p += 3;\n                // printf(\"%d %d %d %d %d\\n\", i, j, egc[i][j][0], egc[i][j][1], egc[i][j][2]);\n            }\n            // printf(\"-- %d %d\\n\", i, deg[i]);\n        }\n        for(int i = 1; i &lt; n; ++ i){\n            int x = q.front();\n            q.pop();\n            int gl = 0;\n            for(int j = c-1; j &gt;= 0; -- j){\n                for(int k = 0; k &lt; 3; ++ k){\n                    if(egc[x][j][k]){\n                        gl += k * pw[j];\n                        break;\n                    }\n                }\n            }\n            printf(\"%d %d\\n\", x + 1, gl + 1);\n            -- deg[gl];\n            for(int j = c-1; j &gt;= 0; -- j){\n                -- egc[gl][j][tri[x][j]];\n            }\n            if(deg[gl] == 1){\n                q.push(gl);\n            }\n        }\n        fflush(stdout);\n    }\n    return 0;\n}\n</code></pre>"},{"location":"CodeForces/2164/#h-palindromepalindrome","title":"H. PalindromePalindrome","text":"<p>\u6709\u70b9\u96be\uff0c\u5f85\u8865\u3002</p>"},{"location":"CodeForces/CF1601E/","title":"1601E Phys Ed Online","text":"<p>Problem Link: https://www.luogu.com.cn/problem/CF1601E\u3002</p> \u9898\u610f <p>\u5065\u8eab\u623f\u552e\u5356\u4f1a\u5458\u5361\uff0c\u7b2c \\(i\\) \u5929\u7684\u4f1a\u5458\u5361\u4ef7\u683c\u4e3a \\(a_i\\)\uff0c\u4f60\u53ef\u4ee5\u5728\u4efb\u610f\u82e5\u5e72\u5929\u4e70\u4efb\u610f\u591a\u5f20\u3002\u6bcf\u5f20\u4f1a\u5458\u5361\u53ef\u4ee5\u6fc0\u6d3b \\(k\\) \u5929\uff0c\u8868\u793a\u6fc0\u6d3b\u540e\u7684\u8fde\u7eed \\(k\\) \u5929\uff0c\u4f60\u53ef\u4ee5\u8fdb\u5165\u5065\u8eab\u623f\u3002\u4f60\u53ef\u4ee5\u5728\u8d2d\u4e70\u5361\u7684\u5f53\u5929\u6fc0\u6d3b\u5361\u3002\u73b0\u5728\u4f60\u8981\u5728 \\([l,r]\\) \u5185\u7684\u6bcf\u4e00\u5929\u90fd\u8fdb\u5165\u5065\u8eab\u623f\uff0c\u6c42\u6700\u5c11\u9700\u8981\u591a\u5c11\u94b1\u3002 \\(n,q\\leq 3\\times 10^5\\)\u3002</p> <p>\u5bb9\u6613\u53d1\u73b0\uff0c\u7b2c\u4e00\u5f20\u5361\u8981\u5728 \\([l,l]\\) \u7684\u65f6\u95f4\u5185\u4e70\uff1b\u7b2c\u4e8c\u5f20\u8981\u5728 \\([l,l+k]\\)\uff1b\u7b2c\u4e09\u5f20\u8981\u5728 \\([l,l+2k]\\)\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u4e00\u4e2a\u6700\u5927\u7684 \\(p\\) \u4f7f\u5f97 \\(l+p*k\\leq r\\)\u3002</p> <p>\u6211\u4eec\u5148\u5047\u8bbe \\(a_l\\) \u662f\u5e8f\u5217\u6700\u5927\u503c\uff0c\u90a3\u4e48\u5b83\u53ea\u4f1a\u5728\u521a\u5f00\u59cb\u4e70\u4e00\u6b21\u3002\u7136\u540e\u5c31\u76f8\u5f53\u4e8e\u6c42 \\([l+1,l+k], [l+1,l+2k], [l+1,l+3k],...\\) \u8fd9\u4e9b\u533a\u95f4\u7684\u6700\u5c0f\u503c\u3002\u5982\u679c\u6211\u4eec\u5c06 \\(\\pmod k\\) \u4e0d\u540c\u7684 \\(l\\) \u5206\u7c7b\uff0c\u7136\u540e\u540c\u4e00\u7c7b\u4e00\u8d77\u7b97\uff0c\u6bcf \\(k\\) \u5929\u7f29\u6210\u4e00\u5929\uff0c\u8fd9\u662f\u4e0d\u662f\u5c31\u76f8\u5f53\u4e8e\uff0c\u7ed9\u4f60\u4e00\u4e2a\u5e8f\u5217\uff0c\u7136\u540e\u6bcf\u6b21\u95ee\u4e00\u4e2a\u533a\u95f4\uff0c\u6c42\u8fd9\u4e2a\u533a\u95f4\u6bcf\u4e2a\u524d\u7f00\u7684\u6700\u5c0f\u503c\u4e4b\u548c\uff1f</p> <p>\u7c7b\u4f3c\u533a\u95f4\u7b1b\u5361\u5c14\u6811\uff0c\u5bf9\u4e8e\u6bcf\u4e2a \\(i\\) \u7ef4\u62a4 \\(r_i\\) \u8868\u793a \\(i\\) \u540e\u9762\u7b2c\u4e00\u4e2a \\(&lt;i\\) \u7684\u4f4d\u7f6e\uff0c\u7136\u540e\uff0c\u5982\u679c \\([i,r_i)\\) \u5b8c\u5168\u88ab\u8be2\u95ee\u533a\u95f4\u5305\u542b\uff0c\u7b54\u6848\u52a0\u4e0a \\(a_i\\times(r_i-i)\\)\uff0c\u7279\u5224\u67e5\u8be2\u533a\u95f4\u5185\u6700\u5c0f\u503c\u53f3\u4fa7\u7684\u90a3\u90e8\u5206\u5373\u53ef\u3002\u53ef\u4ee5\u500d\u589e\u8df3 \\(r_i\\)\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u524d\u7f00\u548c\u5dee\u5206\u3002</p> <p>\u6700\u540e\uff0c\u5982\u679c \\(a_l\\) \u4e0d\u662f\u533a\u95f4\u6700\u5927\u503c\uff0c\u548c\u4e0a\u6587\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u7b2c\u4e00\u4e2a\u533a\u95f4\u4e0d\u662f\u4ece \\(l+1\\) \u5f00\u59cb\u3002</p> <pre><code>//CF1601E\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nint n, q, K;\nconst int N = 3e5 + 10;\nint a[N], st[20][N];\ntypedef long long ll;\nll ans[N];\n\nint qry(int l, int r){\n    int k = 31 ^ __builtin_clz(r - l + 1);\n    return min(st[k][l], st[k][r-(1&lt;&lt;k)+1]);\n}\n\nvector&lt;tuple&lt;int, int, int&gt; &gt; qr[N];\nint b[N];\n\nint rr[N], sta[N], tp;\nint jmp[20][N];\nll val[20][N];\n\nint main(){\n    scanf(\"%d%d%d\", &amp;n, &amp;q, &amp;K);\n    for(int i = 1; i &lt;= n; ++ i){\n        scanf(\"%d\", &amp;a[i]);\n        st[0][i] = a[i];\n    }\n    for(int i = 1; i &lt; 20; ++ i){\n        for(int j = 1; j + (1 &lt;&lt; i) - 1 &lt;= n; ++ j){\n            st[i][j] = min(st[i-1][j], st[i-1][j+(1&lt;&lt;i-1)]);\n        }\n    }\n    sta[0] = n + 1;\n    for(int i = n; i &gt;= 1; -- i){\n        while(tp &amp;&amp; a[sta[tp]] &gt;= a[i]){\n            -- tp;\n        }\n        rr[i] = sta[tp];\n        sta[++tp] = i;\n    }\n    for(int i = 1; i &lt;= q; ++ i){\n        int l, r;\n        scanf(\"%d%d\", &amp;l, &amp;r);\n        r = (r - l) / K * K + l;\n        if(rr[l] &gt; r){\n            ans[i] = (r - l) / K * 1ll * a[l] + a[l];\n        } else {\n            ans[i] = ((rr[l] - l - 1) / K + 1) * 1ll * a[l];\n            qr[(l+1)%K].push_back({(rr[l] - (l+1)%K) / K, (r - (l+1)%K) / K, i});\n        }\n    }\n    for(int S = 0; S &lt; K; ++ S){\n        int cc = 0;\n        for(int i = S; i + K - 1 &lt;= n; i += K){\n            b[cc] = qry(i, i + K - 1);\n            ++ cc;\n        }\n        tp = 0;\n        sta[tp] = cc + 1;\n        for(int i = cc; i &gt;= 0; -- i){\n            while(tp &amp;&amp; b[sta[tp]] &gt; b[i]){\n                -- tp;\n            }\n            rr[i] = sta[tp];\n            sta[++tp] = i;\n            jmp[0][i] = rr[i];\n            val[0][i] = (rr[i] - i) * 1ll * b[i];\n        }\n        jmp[0][cc+1] = cc+1;\n        for(int j = 1; j &lt; 20; ++ j){\n            for(int i = 0; i &lt;= cc + 1; ++ i){\n                jmp[j][i] = jmp[j-1][jmp[j-1][i]];\n                val[j][i] = val[j-1][jmp[j-1][i]] + val[j-1][i];\n            }\n        }\n        for(auto i : qr[S]){\n            int l = get&lt;0&gt;(i), r = get&lt;1&gt;(i), id = get&lt;2&gt;(i);\n            for(int j = 19; j &gt;= 0; -- j){\n                if(jmp[j][l] &lt;= r){\n                    ans[id] += val[j][l];\n                    l = jmp[j][l];\n                }\n            }\n            ans[id] += b[l] * 1ll * (r - l + 1);\n        }\n    }\n    for(int i = 1; i &lt;= q; ++ i){\n        printf(\"%lld\\n\", ans[i]);\n    }\n    return 0;\n}\n</code></pre>"},{"location":"Luogu/","title":"Index","text":"<p>https://www.luogu.com.cn/\u3002</p>"},{"location":"Luogu/P9394/","title":"P9394 \u767d\u9e6d\u5170","text":"<p>Problem Link: https://www.luogu.com.cn/problem/P9394\u3002</p> \u9898\u610f <p>\u7ed9\u5b9a\u4e00\u5f20 \\(n\\) \u4e2a\u70b9\uff0c\\(m\\) \u6761\u8fb9\u7684\u65e0\u5411\u56fe \\(G\\)\uff0c\u6c42\u4e00\u4e2a\u6700\u5c0f\u7684 \\(k\\)\uff0c\u4f7f\u5f97\u5b58\u5728\u70b9\u96c6\u5212\u5206 \\(V_1,V_2,...,V_t\\) \u6ee1\u8db3\uff1a\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\u96c6\u7684\u524d\u7f00/\u540e\u7f00\u5e76\uff0c\u5b83\u4eec\u7684\u5bfc\u51fa\u5b50\u56fe\u8054\u901a\uff0c\u4e14\u6bcf\u4e2a\u70b9\u96c6\u5927\u5c0f \\(\\leq k\\)\u3002\u6c42\u6700\u5c0f\u7684 \\(k\\) \u548c\u5212\u5206\u65b9\u6848\u3002 \\(2\\leq n \\leq 2\\times 10^5,1\\leq m\\leq 2.3\\times 10^5\\)\uff0c\u4fdd\u8bc1\u65e0\u91cd\u8fb9\u81ea\u73af\uff0c\u4fdd\u8bc1\u56fe\u8054\u901a\u3002</p> <p>\u524d\u7f6e\u77e5\u8bc6\u662f\u53cc\u6781\u5b9a\u5411\u3002</p> <p>\u53cc\u6781\u5b9a\u5411\uff0c\u5373\u7ed9\u5b9a\u4e00\u4e2a\u65e0\u5411\u56fe \\(G\\) \u4ee5\u53ca\u4e24\u4e2a\u70b9 \\(S,T\\)\uff0c\u8981\u6c42\u4f60\u627e\u5230\u4e00\u79cd\u7ed9\u8fd9\u4e2a\u56fe\u8fb9\u5b9a\u5411\u7684\u65b9\u5f0f\uff0c\u4f7f\u5f97\uff1a</p> <ul> <li>\u8fd9\u5f20\u56fe\u662f\u4e00\u4e2a DAG\uff1b</li> <li>\\(S\\) \u662f\u552f\u4e00\u4e00\u4e2a\u5165\u5ea6\u4e3a \\(0\\) \u7684\u70b9\uff0c\\(T\\) \u662f\u552f\u4e00\u4e00\u4e2a\u51fa\u5ea6\u4e3a \\(0\\) \u7684\u70b9\u3002</li> </ul> <p>\u6709\u4e2a\u7b49\u4ef7\u7684\u95ee\u9898\uff0c\u5c31\u662f\u8f6c\u5316\u4e3a\u6c42\u4e00\u4e2a\u62d3\u6251\u5e8f\uff0c\u6ee1\u8db3\uff1a\u6bcf\u4e2a\u524d\u7f00\u8054\u901a\uff0c\u6bcf\u4e2a\u540e\u7f00\u8054\u901a\uff0c\u7136\u540e\u6bcf\u6761\u8fb9\u4ece\u62d3\u6251\u5e8f\u5c0f\u7684\u8fde\u5411\u62d3\u6251\u5e8f\u5927\u7684\u5c31\u884c\u3002</p> <p>\u7ed3\u8bba\u662f\uff1a\u4e00\u5f20\u56fe\u53ef\u4ee5\u88ab\u53cc\u6781\u5b9a\u5411\uff0c\u5f53\u4e14\u4ec5\u5f53\u8fd9\u5f20\u56fe\u5efa\u5706\u65b9\u6811\u540e\u65b9\u70b9\u6784\u6210\u4e00\u6761\u94fe\uff0c\u4e14\u6240\u6709\u65b9\u70b9\u90fd\u5728 \\(S\\to T\\) \u7684\u8def\u5f84\u4e0a\uff0c\u5f62\u8c61\u5730\u63cf\u8ff0\uff0c\u5c31\u662f\u4ee5 \\(S,T\\) \u4e3a\u4e24\u7aef\u7684\u6bdb\u6bdb\u866b\u3002</p> <p>\u4e00\u4e2a\u6c42\u89e3\u53cc\u6781\u5b9a\u5411\u7684\u65b9\u6cd5<sup>1</sup>\u662f\uff1a</p> <p>\u9996\u5148\u5c06\u8fd9\u4e2a\u5706\u65b9\u6811\u62c6\u6210\u82e5\u5e72\u4e2a\u70b9\u53cc\uff0c\u6bcf\u4e2a\u70b9\u53cc\u5185\u90e8\u6709\u4e24\u4e2a\u70b9\uff0c\u4e3a\u5272\u70b9\u6216\u8005\u662f \\(S,T\\)\uff0c\u628a\u8fd9\u4e24\u4e2a\u70b9\u5f53\u4f5c\u8fd9\u4e2a\u70b9\u53cc\u5185\u90e8\u7684 \\(S,T\\)\uff0c\u5c31\u53ea\u7528\u8003\u8651\u5bf9\u4e8e\u4e00\u4e2a\u70b9\u53cc\u6c42\u53cc\u6781\u5b9a\u5411\u3002</p> <p>\u6bcf\u4e2a\u70b9\u7ef4\u62a4\u4e00\u4e2a\u5217\u8868\uff0c\u8868\u793a\u8fd9\u4e2a\u70b9\u653e\u5165\u62d3\u6251\u5e8f\u540e\uff0c\u8fd9\u4e2a\u70b9\u5217\u8868\u5185\u7684\u70b9\u90fd\u80fd\u653e\u5230\u62d3\u6251\u5e8f\u4e2d\u3002</p> <ul> <li>\u4ee5 \\(S\\) \u4e3a\u6839\u8dd1 tarjan\uff0c\u6c42\u51fa\u6bcf\u4e2a\u70b9\u7684 \\(fa,low\\)\u3002</li> <li>\u7136\u540e\u5f00\u59cb\u6bcf\u6b21\u5265\u6389\u4e00\u4e2a\u53f6\u5b50\uff1a\u6309\u7167 dfn \u5e8f\u5012\u5e8f\u679a\u4e3e\u70b9 \\(x\\)\uff0c\u5982\u679c \\(x\\) \u4e0d\u5728 \\(S\\to T\\) \u7684\u8def\u5f84\u4e0a\uff0c\u5c06\u70b9 \\(x\\) \u63d2\u5165\u5230 \\(fa_x,low_x\\) \u5bf9\u5e94\u7684\u5217\u8868\u4e2d\uff0c\u672c\u8d28\u662f\u7f29\u4e8c\u5ea6\u70b9\u3002</li> <li>\u6700\u540e\u5f62\u6210\u4e00\u6761\u94fe\uff0c\u4ece \\(S\\) \u5230 \\(T\\) \u4f9d\u6b21\u5c06\u70b9\u653e\u5230\u62d3\u6251\u5e8f\u4e2d\uff0c\u7136\u540e\u9012\u5f52\u5176\u5217\u8868\u4e2d\u7684\u70b9\u5373\u53ef\u3002\u6ce8\u610f\u4e00\u4e2a\u70b9\u53ea\u63d2\u5165\u4e00\u6b21\u3002</li> </ul> <p>\u5bf9\u4e8e\u539f\u9898\uff0c\u53ef\u4ee5\u53d1\u73b0\u53cc\u6781\u5b9a\u5411\u7684\u7b49\u4ef7\u95ee\u9898\u548c\u539f\u9898\u5f88\u50cf\uff0c\u90a3\u4e48\u5c31\u662f\uff0c\u5982\u679c\u7ed9\u51fa\u7684\u56fe\u53ef\u4ee5\u53cc\u6781\u5b9a\u5411\uff0c\u90a3\u4e48\u7b54\u6848 \\(k=1\\)\uff0c\u8f93\u51fa\u4e00\u4e2a\u53cc\u6781\u5b9a\u5411\u7684\u62d3\u6251\u5e8f\u65b9\u6848\u5373\u53ef\u3002\u5426\u5219\uff0c\u6211\u4eec\u9700\u8981\u5728\u7ed9\u51fa\u7684\u56fe\u5706\u65b9\u6811\u4e0a\u5c06\u82e5\u5e72\u8fde\u901a\u5757\u7f29\u6210\u82e5\u5e72\u70b9\uff0c\u4f7f\u5f97\u7f29\u70b9\u540e\u7684\u5706\u65b9\u6811\u53ef\u4ee5\u53cc\u6781\u5b9a\u5411\uff0c\u4e14\u6700\u5927\u7684\u7f29\u6210\u4e00\u4e2a\u70b9\u7684\u8fde\u901a\u5757\u6700\u5c0f\u3002</p> <p>\u5982\u679c\u679a\u4e3e \\(S,T\\) \u662f\u597d\u505a\u7684\uff0c\u6211\u4eec\u8003\u8651\u80fd\u5426 dp \u6c42\u51fa\u6700\u4f18\u7684 \\(S,T\\)\u3002\u8bbe \\(f_i\\) \u8868\u793a \\(S\\) \u5728 \\(i\\) \u5b50\u6811\u5916\uff0c\\(T\\) \u5728\u5b50\u6811\u5185\uff0c\u5b50\u6811\u5185\u7f29\u70b9\u540e\u6700\u5927\u8fde\u901a\u5757\u6700\u5c0f\u662f\u591a\u5c11\u3002</p> <p>\u5b9a\u4e49\u4e00\u4e2a\u70b9\u7684 \\(siz\\)\uff1a</p> <ul> <li>\u5982\u679c\u8fd9\u4e2a\u70b9\u662f\u5706\u70b9\uff0c\\(siz\\) \u4e3a\u5b50\u6811\u5185\u5706\u70b9\u4e2a\u6570\u3002</li> <li>\u5982\u679c\u8fd9\u4e2a\u70b9\u662f\u65b9\u70b9\uff0c\\(siz\\) \u4e3a\u5b83\u7684\u513f\u5b50\u5706\u70b9\u7684 \\(siz\\) \u6700\u5927\u503c\u3002</li> </ul> <p>\u5bb9\u6613\u53d1\u73b0\uff0c\\(f_i\\) \u53ef\u4ee5\u4ece\u4efb\u610f\u4e00\u4e2a \\(siz_j\\) \u5728\u513f\u5b50\u5185\u6700\u5927\u7684 \\(j\\) \u8f6c\u79fb\u800c\u6765\uff1a</p> <ul> <li>\u5982\u679c\u6700\u5927\u7684 \\(siz_j\\) \u552f\u4e00\u4e14\u4e0d\u4ece\u8fd9\u4e2a\u70b9\u8f6c\u79fb\uff0c\u90a3\u4e48 \\(f_i=siz_j\\)\uff1b\u5982\u679c\u4ece\u8fd9\u4e2a\u70b9\u8f6c\u79fb\u624d\u6709\u53ef\u80fd \\(&lt;siz_j\\):</li> <li>\u5982\u679c\u6700\u5927\u7684 \\(siz_j\\) \u4e0d\u552f\u4e00\uff0c\u90a3\u4e48 \\(f_i=siz_j\\) \u65e0\u6cd5\u6539\u53d8\u4e86\uff0c\u4ece\u54ea\u8f6c\u79fb\u90fd\u53ef\u4ee5\u4e86\u3002</li> </ul> <p>\u6700\u540e\u662f\u679a\u4e3e lca \\(x\\) \u4ee5\u53ca\u5b83\u7684\u4e24\u4e2a\u5b50\u6811 \\(y,z\\) \u7edf\u8ba1\u7b54\u6848\uff0c\u5bb9\u6613\u53d1\u73b0 \\(siz_y,siz_z\\) \u4e5f\u53d6 \\(x\\) \u513f\u5b50\u5185\u6700\u5927\u7684\u4e24\u4e2a\u5b50\u6811\u5c31\u884c\u3002</p> <p>\u6211\u4eec\u6839\u636e dp \u7684\u8f6c\u79fb\u53ef\u4ee5\u627e\u5230 \\(S,T\\)\uff0c\u6700\u540e\u7f29\u70b9\u540e\u8dd1\u53cc\u6781\u5b9a\u5411\u5373\u53ef\u3002\u590d\u6742\u5ea6 \\(O(n+m)\\)\u3002</p> <pre><code>// Problem: P9394 \u767d\u9e6d\u5170\n// Contest: Luogu\n// URL: https://www.luogu.com.cn/problem/P9394\n// Memory Limit: 512 MB\n// Time Limit: 1000 ms\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 5e5 + 10;\nint n, m;\nvector&lt;int&gt; g[N], tr[N];\n\nint dfn[N], low[N], st[N], ins[N], tp, dfc;\nint cnt;\nvoid tarjan(int x){\n    dfn[x] = low[x] = ++ dfc;\n    st[++tp] = x;\n    ins[x] = 1;\n    for(int i : g[x]){\n        if(!dfn[i]){\n            tarjan(i);\n            low[x] = min(low[x], low[i]);\n            if(low[i] &gt;= dfn[x]){\n                ++ cnt;\n                while(true){\n                    tr[cnt+n].push_back(st[tp]);\n                    tr[st[tp]].push_back(cnt+n);\n                    ins[st[tp]] = 0;\n                    -- tp;\n                    if(st[tp+1] == i){\n                        break;\n                    }\n                }\n                tr[cnt+n].push_back(x);\n                tr[x].push_back(cnt+n);\n            }\n        } else {\n            low[x] = min(low[x], dfn[i]);\n        }\n    }\n}\n\nint siz[N], f[N], fr[N], dep[N], anc[N];\nint ans, RT, xs, ys;\nvoid dfs(int x, int fa){\n    dep[x] = dep[fa] + 1;\n    anc[x] = fa;\n    siz[x] = (x &lt;= n ? 1 : 0);\n    pair&lt;int, int&gt; tmp = make_pair(0, 0);\n    vector&lt;pair&lt;int, int&gt; &gt; v;\n    for(int i : tr[x]){\n        if(i == fa){\n            continue;\n        }\n        dfs(i, x);\n        siz[x] += siz[i];\n        tmp = max(tmp, make_pair(siz[i], i));\n        v.push_back(make_pair(siz[i], i));\n    }\n    if(x &lt;= n){\n        f[x] = 1;\n    }\n    int pos = tmp.second;\n    fr[x] = pos;\n    for(int i : tr[x]){\n        if(i == fa){\n            continue;\n        }\n        if(i != pos){\n            if(x &lt;= n){\n                f[x] += siz[i];\n            } else {\n                f[x] = max(f[x], siz[i]);\n            }\n        }\n    }\n    sort(v.begin(), v.end());\n    reverse(v.begin(), v.end());\n    if(x &lt;= n){\n        if(v.size() &gt; 1){\n            int val = max({f[x]+n-siz[x]-siz[v[1].second],f[v[0].second],f[v[1].second]});\n            if(val &lt; ans){\n                ans = val;\n                RT = x;\n                xs = v[0].second;\n                ys = v[1].second;\n            }\n        }\n    } else {\n        if(v.size() &gt; 1){\n            if(v.size() == 2){\n                int val = max({f[v[0].second], f[v[1].second], n-siz[x]});\n                if(val &lt; ans){\n                    ans = val;\n                    RT = x;\n                    xs = v[0].second;\n                    ys = v[1].second;\n                }\n            } else {\n                int val = max({f[v[0].second], f[v[1].second], siz[v[2].second], n-siz[x]});\n                if(val &lt; ans){\n                    ans = val;\n                    RT = x;\n                    xs = v[0].second;\n                    ys = v[1].second;\n                }\n            }\n        }\n    }\n    f[x] = max(f[x], f[pos]);\n}\n\nint inr[N], id[N], mn[N], mx[N];\nvector&lt;int&gt; bel[N];\nvoid mg(int x, int fa, int rt){\n    if(x &lt;= n){\n        bel[rt].push_back(x);\n    }\n    for(int i : tr[x]){\n        if(i == fa || inr[i]){\n            continue;\n        }\n        mg(i, x, rt);\n    }\n}\n\nvector&lt;pair&lt;int, int&gt; &gt; eg[N];\nint sta[N], ed[N];\nbool cmp(int x, int y){\n    return mn[x] &lt; mn[y];\n}\nvoid pr(int x){\n    if(!bel[x].size()){\n        return;\n    }\n    printf(\"%d \", bel[x].size());\n    for(int i : bel[x]){\n        printf(\"%d \", i);\n    }\n    vector&lt;int&gt; ().swap(bel[x]);\n    puts(\"\");\n}\n\nvector&lt;int&gt; G[N], P[N];\nint Dfn[N], Low[N], Fa[N], idx, Que[N], On[N], Vis[N];\nvoid tar(int x, int fa){\n    Fa[x] = fa;\n    Dfn[x] = Low[x] = ++ idx;\n    Que[idx] = x;\n    for(int i : G[x]){\n        if(!Dfn[i]){\n            tar(i, x);\n            Low[x] = min(Low[x], Low[i]);\n        } else {\n            Low[x] = min(Low[x], Dfn[i]);\n        }\n    }\n}\nvoid dfs__(int x){\n    Vis[x] = 1;\n    pr(x);\n    for(int i : P[x]){\n        if(!Vis[i]){\n            dfs__(i);\n        }\n    }\n}\n\nvoid solve(int id){\n    if(eg[id].size() == 1){\n        pr(sta[id]);\n        pr(ed[id]);\n        return;\n    }\n    for(auto i : eg[id]){\n        G[i.first].push_back(i.second);\n        G[i.second].push_back(i.first);\n    }\n    tar(sta[id], 0);\n    vector&lt;int&gt; path;\n    for(int x = ed[id]; x; x = Fa[x]){\n        On[x] = 1;\n        path.push_back(x);\n    }\n    reverse(path.begin(), path.end());\n    for(int i = idx; i &gt;= 1; -- i){\n        int x = Que[i];\n        if(!On[x]){\n            P[Fa[x]].push_back(x);\n            P[Que[Low[x]]].push_back(x);\n        }\n    }\n    for(int x : path){\n        dfs__(x);\n    }\n    for(int i = 1; i &lt;= idx; ++ i){\n        int x = Que[i];\n        Dfn[i] = Low[i] = Fa[i] = On[i] = Vis[i] = 0;\n        vector&lt;int&gt; ().swap(G[i]);\n        vector&lt;int&gt; ().swap(P[i]);\n    }\n    idx = 0;\n}\n\nint main(){\n    scanf(\"%d%d\", &amp;n, &amp;m);\n    ans = n;\n    for(int i = 1; i &lt;= m; ++ i){\n        int u, v;\n        scanf(\"%d%d\", &amp;u, &amp;v);\n        g[u].push_back(v);\n        g[v].push_back(u);\n    }\n    tarjan(1);\n    int rt = 1;\n    while(tr[rt].size() == 1){\n        ++ rt;\n    }\n    dfs(rt, 0);\n    int S = xs, T = ys;\n    id[RT] = n + n;\n    id[S] = n + n - 1;\n    id[T] = n + n + 1;\n    inr[RT] = inr[S] = inr[T] = 1;\n    while(tr[S].size() != 1){\n        id[fr[S]] = id[S] - 1;\n        S = fr[S];\n        inr[S] = 1;\n    }\n    while(tr[T].size() != 1){\n        id[fr[T]] = id[T] + 1;\n        T = fr[T];\n        inr[T] = 1;\n    }\n    int rc = 0;\n    for(int i = 1; i &lt;= n + cnt; ++ i){\n        mn[i] = 1e9;\n        if(inr[i]){\n            if(i &lt;= n){\n                mg(i, 0, i);\n                ++ rc;\n            } else {\n                for(auto j : tr[i]){\n                    if(!inr[j]){\n                        inr[j] = 1;\n                        mg(j, 0, j);\n                        ++ rc;\n                    }\n                }\n            }\n        }\n    }\n    printf(\"%d %d\\n\", ans, rc);\n    for(int i = 1; i &lt;= n; ++ i){\n        for(auto j : g[i]){\n            if(inr[i] &amp;&amp; inr[j] &amp;&amp; (dep[i] &lt; dep[j] || (dep[i] == dep[j] &amp;&amp; i &lt; j))){\n                int bel = anc[j] - n;\n                if(id[i]){\n                    mn[bel] = min(mn[bel], id[i]);\n                    mx[bel] = max(mx[bel], id[i]);\n                    if(id[i] == mn[bel]){\n                        sta[bel] = i;\n                    }\n                    if(id[i] == mx[bel]){\n                        ed[bel] = i;\n                    }\n                }\n                if(id[j]){\n                    mn[bel] = min(mn[bel], id[j]);\n                    mx[bel] = max(mx[bel], id[j]);\n                    if(id[j] == mn[bel]){\n                        sta[bel] = j;\n                    }\n                    if(id[j] == mx[bel]){\n                        ed[bel] = j;\n                    }\n                }\n                eg[bel].emplace_back(i, j);\n            }\n        }\n    }\n    static int shunxu[N];\n    for(int i = 1; i &lt;= cnt; ++ i){\n        shunxu[i] = i;\n    }\n    sort(shunxu + 1, shunxu + cnt + 1, cmp);\n    for(int i = 1; i &lt;= cnt; ++ i){\n        if(!sta[shunxu[i]]){\n            break;\n        }\n        solve(shunxu[i]);\n    }\n    return 0;\n}\n</code></pre> <ol> <li> <p>\u53cc\u6781\u5b9a\u5411\u7684\u6784\u9020 - Rainbow_sjy\u7684\u535a\u5ba2\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"QOJ/","title":"Index","text":"<p>https://www.qoj.ac/\u3002</p>"},{"location":"QOJ/3557/","title":"JOISC2020 2C Ruins 3","text":"<p>Problem Link: https://qoj.ac/problem/3557\u3002</p> \u9898\u610f <p>\u5bf9\u4e8e\u6240\u6709\u957f\u5ea6\u4e3a \\(2n\\)\uff0c\u7531 \\(1\\sim n\\) \u5404\u4e24\u4e2a\u7ec4\u6210\u7684\u5e8f\u5217\uff0c\u5b9a\u4e49\u4e00\u6b21\u5d29\u584c\u4e3a\uff0c\u627e\u5230\u6bcf\u4e2a \\(x\\in \\{i|\\exists j&gt;i, a_j=a_i&gt;0\\}\\)\uff0c\u7136\u540e\u4ee4 \\(a_x\\leftarrow a_x-1\\)\u3002\u6700\u540e\u5d29\u584c\u5f88\u591a\u6b21\uff0c\u5e8f\u5217\u53ea\u5269 \\(1\\sim n\\) \u5404\u4e00\u4e2a\u4ee5\u53ca \\(n\\) \u4e2a \\(0\\)\u3002\u73b0\u5728\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a \\(n\\) \u7684\u4e0b\u6807\u5e8f\u5217 \\(p\\)\uff0c\u6c42\u5d29\u584c\u540e\u53ea\u6709 \\(p\\) \u91cc\u9762\u8fd9\u4e9b\u4e0b\u6807\u7684\u503c\u4e0d\u4e3a \\(0\\) \u7684\u5e8f\u5217\u4e2a\u6570\u3002 \\(n\\leq 600\\)\u3002</p> <p>\u8bbe\u6700\u540e\u5d29\u584c\u4e3a \\(0\\) \u7684\u4f4d\u7f6e\u4e3a A \u7c7b\u4f4d\u7f6e\uff1b\u5176\u4ed6\u4e3a B \u7c7b\u4f4d\u7f6e\u3002</p> <p>\u4ece\u9ad8\u5230\u4f4e\u53bb\u5d29\u584c\u4e0d\u592a\u80fd\u5f88\u597d\u7684 dp\uff0c\u8003\u8651\u4ece\u540e\u5f80\u524d\u53bb\u9707\u3002\u4e0b\u6587\u4e2d\uff0c\u6bcf\u4e2a\u6570\u7684\u4e24\u6b21\u51fa\u73b0\u770b\u4f5c\u4e0d\u540c\u7684\u6570\uff0c\u8fd9\u6837\u6bd4\u8f83\u597d\u5904\u7406\u3002</p> <p>\u8bbe \\(f_{i,j}\\) \u8868\u793a\u9707\u4e86 \\([i,2n]\\) \u7684\u4f4d\u7f6e\uff0c\u9707\u5b8c\u540e\uff0c\u540e\u7f00\u6709 \\([1,j]\\) \u5185\u7684\u6240\u6709\u6570\uff0c\u4f46\u662f\u6ca1\u6709 \\(j+1\\)\u3002\u8bbe\u540e\u7f00\u4e2d\u6709 \\(a\\) \u4e2a A \u7c7b\u4f4d\u7f6e\uff0c\\(b\\) \u4e2a B \u7c7b\u4f4d\u7f6e\uff0c\u90a3\u4e48\u5c31\u6709 \\(j\\) \u4e2a\u4f4d\u7f6e\u7684\u6570\u662f \\([1,j]\\)\uff1b\\(a\\) \u4e2a\u4f4d\u7f6e\u7684\u6570\u4ecd\u7136\u53ea\u80fd\u5728 \\([1,j]\\) \u5185\uff1b\\(b-j\\) \u4e2a\u4f4d\u7f6e\u7684\u6570 \\(\\in [j+2,n]\\)\uff0c\u8fd9\u90e8\u5206\u7684\u6570\u5230\u5e95\u662f\u4ec0\u4e48\uff0c\u6211\u4eec\u8003\u8651\u653e\u5230\u540e\u9762\u53bb\u7b97\u3002</p> <p>\u8f6c\u79fb \\(f_{i+1}\\to f_{i}\\)\u3002</p> <p>\u5982\u679c\u7b2c \\(i\\) \u4e2a\u4f4d\u7f6e\u4e3a A \u7c7b\u4f4d\u7f6e\uff0c\u6b64\u65f6\u7684 \\(a,b\\) \u4e3a \\([i+1,2n]\\) \u5185\u5404\u7c7b\u4f4d\u7f6e\u7684\u6570\u91cf\uff1a</p> <ul> <li>\u8fd9\u4e2a\u4f4d\u7f6e\u5fc5\u987b\u5d29\u584c\uff0c\u4e5f\u5c31\u662f\u8bf4\u5fc5\u987b\u4ece \\([1,j]\\) \u5185\u9009\u3002\u7531\u4e8e \\([1,j]\\) \u5185\u6bcf\u4e2a\u6570\u90fd\u5728 B \u4f4d\u7f6e\u51fa\u73b0\u4e00\u6b21\uff0c\u4e14\u5176\u4e2d\u6709 \\(a\\) \u4e2a\u6570\u5728 A \u4f4d\u7f6e\u51fa\u73b0\u8fc7\u4e86\uff0c\u6240\u4ee5\u65b9\u6848\u6570\u662f \\(j-a\\)\u3002\\(f_{i,j}\\leftarrow f_{i+1,j}(j-a)\\)\u3002</li> </ul> <p>\u5982\u679c\u7b2c \\(i\\) \u4e2a\u4f4d\u7f6e\u4e3a B \u7c7b\u4f4d\u7f6e\uff1a</p> <ul> <li>\u8fd9\u4e2a\u4f4d\u7f6e \\(\\in [j+2,n]\\)\uff0c\u653e\u5230\u540e\u9762\u53bb\u786e\u5b9a\uff0c\\(f_{i,j}\\leftarrow f_{i+1,j}\\)\u3002</li> <li>\u5426\u5219\uff0c\u8bbe \\(j\\) \u53d8\u4e3a\u4e86 \\(j+k\\)\uff0c\u90a3\u4e48\uff0c\u7b2c \\(i\\) \u4e2a\u6570\u4ece \\([j+1,j+k]\\) \u4e2d\u4efb\u9009\uff08\\(j+1\\) \u6709\u4e24\u4e2a\uff0c\u5176\u4ed6\u5171 \\(k-1\\) \u4e2a\uff0c\u53ef\u80fd\u6709\u7684\u6570\u6709\u4e24\u4e2a\u53ef\u80fd\u6709\u7684\u6570\u6ca1\u6709\uff0c\u6240\u4ee5\u603b\u5171 \\(k+1\\) \u4e2a\uff09\uff0c\u7136\u540e\u5728\u540e\u9762\u7684 \\(b-j\\) \u4e2a\u4f4d\u7f6e\u9009\u51fa \\(k-1\\) \u4e2a\u4f4d\u7f6e\uff0c\u7136\u540e\u8fd9 \\(k-1\\) \u4e2a\u4f4d\u7f6e\u7684\u6570\u8981\u6c42\u5d29\u584c\u8fc7\u540e\u6784\u6210 \\([j+2,j+k]\\) \u7684\u8fde\u7eed\u6bb5\u3002\u8bbe\u8fd9\u4e2a\u65b9\u6848\u6570\u4e3a \\(G_{k-1}\\)\u3002\u8f6c\u79fb \\(f_{i,j+k}\\leftarrow f_{i+1,j}(k+1)\\dbinom{b-k}{k-1}G_{k-1}\\)\u3002</li> </ul> <p>\u95ee\u9898\u53d8\u4e3a\u6c42 \\(G\\)\u3002\u8fd9\u4e2a\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u5c06 \\(1\\sim k\\) \u7684\u6570\uff0c\u6bcf\u4e2a\u51fa\u73b0 \\(\\leq 2\\) \u6b21\uff0c\u7136\u540e \\(cnt_{[1,i]}\\leq i\\) \u5c31\u53ef\u4ee5\u3002\u8bbe \\(g_{i,j}\\) \u8868\u793a \\([1,i]\\) \u7684\u6570\u9009 \\(j\\) \u4e2a\u7684\u65b9\u6cd5\u6570\u5373\u53ef\u3002</p> <p>\u603b\u590d\u6742\u5ea6 \\(O(n^3)\\)\uff0c\u5e38\u6570\u5c0f\u53ef\u4ee5\u901a\u8fc7\u3002</p> <pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 1210;\nint n, a[N];\ntypedef long long ll;\nconst ll P = 1e9 + 7;\nconst ll i2 = (P + 1) / 2;\n\nll C[N][N];\nll f[N][N];\nll g[N][N];\n\nint main(){\n  scanf(\"%d\", &amp;n);\n  for(int i = 1; i &lt;= n; ++ i){\n    int p;\n    scanf(\"%d\", &amp;p);\n    a[p] = 1;\n  }\n  for(int i = 0; i &lt;= n * 2; ++ i){\n    C[i][0] = C[i][i] = 1;\n    for(int j = 1; j &lt; i; ++ j){\n      C[i][j] = (C[i-1][j] + C[i-1][j-1]) % P;\n    }\n  }\n  for(int i = 0; i &lt;= n; ++ i){\n    g[i][0] = 1;\n    for(int j = 1; j &lt;= i; ++ j){\n      g[i][j] = (g[i-1][j] + 2 * j * g[i-1][j-1]) % P;\n      if(j &gt;= 2){\n        g[i][j] = (g[i][j] + j * (j-1) * g[i-1][j-2]) % P;\n      }\n    }\n  }\n  f[n+n+1][0] = 1;\n  int c = 0, d = 0;\n  for(int i = n + n; i &gt;= 1; -- i){\n    if(a[i] == 1){\n      ++ d;\n      for(int j = 0; j &lt;= d; ++ j){\n        f[i][j] = (f[i][j] + f[i+1][j]) % P;\n        for(int k = 1; k + j &lt;= d; ++ k){\n          f[i][j+k] = (f[i][j+k] + f[i+1][j] * (k+1) % P * C[d-1-j][k-1] % P * g[k-1][k-1]) % P;\n        }\n      }\n    } else {\n      for(int j = c; j &lt;= d; ++ j){\n        f[i][j] = f[i+1][j] * (j - c) % P;\n      }\n      ++ c;\n    }\n  }\n  ll ans = f[1][n];\n  while(n--){\n    ans = ans * i2 % P;\n  }\n  printf(\"%lld\\n\", ans);\n  return 0;\n}\n</code></pre>"},{"location":"QOJ/360/","title":"JOISC2017 1A Cultivation","text":"<p>Problem Link: https://qoj.ac/problem/360\u3002</p> \u9898\u610f <p>\u7ed9\u4f60 \\(R*C\\) \u7684\u77e9\u9635\u4e0a \\(n\\) \u4e2a\u70b9\uff0c\u521d\u59cb\u53ea\u6709\u8fd9 \\(n\\) \u4e2a\u70b9\u4e3a\u9ed1\u3002\u6bcf\u6b21\u64cd\u4f5c\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u65b9\u5411\uff08\u4e0a/\u4e0b/\u5de6/\u53f3\uff09\uff0c\u5e76\u4e14\u5bf9\u4e8e\u6bcf\u4e2a\u9ed1\u70b9\uff0c\u67d3\u9ed1\u5b83\u5bf9\u5e94\u65b9\u5411\u7684\u90a3\u4e2a\u70b9\uff08\u5982\u679c\u8d85\u754c\u4e0d\u7ba1\uff09\u3002\u95ee\u6700\u5c11\u591a\u5c11\u6b21\u64cd\u4f5c\u53ef\u4ee5\u4f7f\u5f97\u6240\u6709\u70b9\u5747\u67d3\u9ed1\u3002 \\(1\\leq R,C\\leq 10^9,1\\leq n\\leq 300\\)\u3002</p> <p>\u8f6c\u5316\u9898\u610f\uff1a\u6bcf\u4e2a\u70b9\u6700\u540e\u67d3\u9ed1\u7684\u70b9\u662f\u4e00\u4e2a\u77e9\u5f62\u3002\u8bbe\u5206\u522b\u6267\u884c\u4e86 \\(u,d,l,r\\) \u6b21\u4e0a\u4e0b\u5de6\u53f3\u64cd\u4f5c\uff0c\u90a3\u4e48\u70b9 \\((x,y)\\) \u67d3\u9ed1\u7684\u70b9\u5c31\u662f \\((x-u,y-l)\\) \u5230 \\((x+d,y+r)\\) \u8fd9\u4e2a\u77e9\u5f62\u3002\u4e00\u7ec4 \\((u,d,l,r)\\) \u5408\u6cd5\u5c31\u76f8\u5f53\u4e8e\u8fd9\u4e9b\u77e9\u5f62\u7684\u5e76\u8986\u76d6\u6574\u4e2a\u77e9\u9635\u3002\u6700\u540e\u6c42\u7684\u662f\u6240\u6709\u5408\u6cd5\u7684 \\((u,d,l,r)\\) \u4e2d \\(u+d+l+r\\) \u6700\u5c0f\u591a\u5c11\u3002</p> <p>\u76f4\u63a5\u679a\u4e3e\uff0c\u679a\u4e3e\u4e00\u7ef4\u90fd\u662f\u4e0d\u80fd\u63a5\u53d7\u7684\u3002\u8003\u8651 \\(l\\) \u80fd\u6709\u591a\u5c11\u4e2d\u53d6\u503c\u3002\u5982\u679c\u4e00\u7ec4 \\((u,d,l,r)\\) \u5408\u6cd5\uff0c\\((u,d,l-1,r+1)\\) \u4e5f\u5408\u6cd5\uff0c\u90a3\u4e48\u6211\u4eec\u4e0d\u59a8\u5c31\u4e0d\u8003\u8651 \\((u,d,l,r)\\)\u3002\u53cd\u4e4b\uff0c\u5982\u679c \\((u,d,l-1,r+1)\\) \u4e0d\u5408\u6cd5\uff0c\u90a3\u4e48\u4e00\u5b9a\u662f\u6700\u5de6\u8fb9\u4e00\u5217\u7684\u67d0\u4e00\u4e2a\u4f4d\u7f6e\u4e0d\u80fd\u88ab\u8986\u76d6\u4e86\uff0c\u6240\u4ee5\u6b64\u65f6\u7684 \\(l\\in\\{y_i-1|i\\in[1,n]\\}\\)\uff0c\u4e00\u5171\u53ea\u6709 \\(n\\) \u79cd\u53ef\u80fd\u3002</p> <p>\u518d\u8003\u8651\u6b64\u65f6\u7684 \\(r\\)\u3002\u4ec0\u4e48\u65f6\u5019 \\((u,d,l,r)\\) \u5408\u6cd5\uff0c\u4f46\u662f \\((u,d,l,r-1)\\) \u4e0d\u5408\u6cd5\u5462\uff1f\u6b64\u65f6\u4e0d\u4e00\u5b9a\u662f\u6700\u53f3\u8fb9\u7684\u4f4d\u7f6e\u6ca1\u88ab\u8986\u76d6\u4e86\uff1b\u4f46\u662f\u5fc5\u7136\u5b58\u5728 \\(y_i+r=y_j-l-1\\) \u6216\u8005 \\(y_i+r-m\\)\u3002\u6240\u4ee5\u6b64\u65f6\u7684 \\(r\\in\\{y_i-y_j-1|i,j\\in[1,n],y_i&gt;y_j\\}\\cup\\{m-y_i|i\\in[1,n]\\}\\)\uff0c\u4e00\u5171 \\(n^2\\) \u79cd\u53ef\u80fd\u3002</p> <p>\u6700\u540e\u8003\u8651 \\(u,d\\) \u7684\u53d6\u503c\u3002\u5982\u679c\u786e\u5b9a\u4e86 \\(l,r\\) \u7684\u503c\uff0c\u90a3\u4e48\u6bcf\u4e00\u5217\u5c31\u4f1a\u5206\u6210\u82e5\u5e72\u6bb5\uff0c\u6700\u4e0a\u9762\u4e00\u6bb5\u672a\u67d3\u8272\u7684\uff0c\u6700\u4e0b\u9762\u4e00\u6bb5\u672a\u67d3\u8272\u7684\uff0c\u4e2d\u95f4\u82e5\u5e72\u6bb5\u672a\u67d3\u8272\u7684\u3002\u6b64\u65f6\u8ba1\u7b97 \\(\\min\\{u+d\\}\\) \u662f\u7b80\u5355\u7684\u3002\\(u\\) \u6709\u4e00\u4e2a\u4e0b\u754c\uff0c\u5373\u6700\u4e0a\u9762\u672a\u67d3\u8272\u6bb5\u6700\u957f\u957f\u5ea6\uff1b\\(d\\) \u540c\u7406\uff1b\\(u+d\\) \u7684\u4e0b\u754c\u662f\u4e2d\u95f4\u82e5\u5e72\u6bb5\u672a\u67d3\u8272\u7684\u6700\u957f\u957f\u5ea6\u3002\u4e8e\u662f\u7ef4\u62a4 \\(U,D,mx\\) \u8868\u793a\u4e0a\u8ff0\u4e09\u4e2a\u91cf\uff0c\u90a3\u4e48 \\(u+d\\geq \\max(U+D, mx)\\)\u3002</p> <p>\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u5bf9\u4e8e\u6bcf\u4e00\u5217\u8ba1\u7b97 \\(U,D,mx\\)\uff0c\u6211\u4eec\u53ea\u9700\u8981\u63d0\u53d6\u51fa\u90a3\u4e9b \\(y\\in\\{y_i-l-1|i\\in[1,n]\\}\\) \u7684\u5217\u4ee5\u53ca\u7b2c \\(m\\) \u5217\u5373\u53ef\u3002\u5982\u679c\u66b4\u529b\u679a\u4e3e \\(l,r\\) \u6700\u540e\u8ba1\u7b97 \\(U,D,mx\\) \u7684\u8bdd\uff0c\u590d\u6742\u5ea6\u662f \\(O(n^4)\\) \u7684\u3002</p> <p>\u8003\u8651\u4f18\u5316\uff1a\u4ece\u5927\u5230\u5c0f\u626b \\(r\\)\uff0c\u90a3\u4e48\u6bcf\u4e00\u6bb5\u672a\u67d3\u8272\u6bb5\u4f1a\u9010\u6e10\u5408\u5e76\uff0c\u53ef\u4ee5\u7528\u94fe\u8868\u7ef4\u62a4\u8fd9\u4e2a\u5408\u5e76\u8fc7\u7a0b\u4e2d \\(U,D,mx\\) \u7684\u5bf9\u5e94\u53d8\u5316\uff0c\u8fd9\u6837\u7684\u8bdd\u603b\u590d\u6742\u5ea6\u53d8\u4e3a \\(O(n^3)\\)\uff0c\u53ef\u4ee5\u901a\u8fc7\u3002</p> <p>\u5b9e\u73b0\u7ec6\u8282\u6bd4\u8f83\u591a\uff0c\u4e00\u4e2a\u597d\u7684\u5b9e\u73b0\u65b9\u6cd5\u662f\u5148\u79bb\u6563\u5316\uff0c\u7136\u540e\u63d0\u53d6\u51fa\u5173\u952e\u5217\u5efa\u94fe\u8868\uff0c\u5012\u5e8f\u904d\u5386\u53ef\u80fd\u7684 \\(r\\) \u540e\u8003\u8651\u6bcf\u4e2a\u4f4d\u7f6e\u5230\u5e95\u4f1a\u4e0d\u4f1a\u7531\u67d3\u8272\u53d8\u4e3a\u672a\u67d3\u8272\u3002</p> <pre><code>//qoj360\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 310;\nint n, m, K, le[N];\npair&lt;int, int&gt; a[N];\nint px[N], py[N];\nint nn, mm;\ntypedef long long ll;\n\nvector&lt;pair&lt;int, int&gt; &gt; ed;// \u5728 first \u65f6\u95f4\uff0c px[a[second].first] \u884c\u7684 m \u5217\u589e\u52a0\u4e86\u4e00\u6b21\u8986\u76d6\nvector&lt;pair&lt;int, pair&lt;int, int&gt; &gt; &gt; can;//\u5728 first-L \u65f6\u95f4\uff0cpx[a[second.first].first] \u884c\u7684 py[second.second]-1-L \u5217\u589e\u52a0\u4e86\u4e00\u6b21\u8986\u76d6\n\nll U, D, mx;\nstruct mylist{\n    int pre[N], nxt[N];\n    void del(int x){\n        if(pre[x] == 0 &amp;&amp; nxt[x] == nn + 1){\n            mx = 2e9;\n        } else if(pre[x] == 0){\n            pre[nxt[x]] = pre[x];\n            U = max(U, (ll)px[nxt[x]]);\n        } else if(nxt[x] == nn + 1){\n            nxt[pre[x]] = nxt[x];\n            D = min(D, (ll)px[pre[x]]);\n        } else {\n            nxt[pre[x]] = nxt[x];\n            pre[nxt[x]] = pre[x];\n            mx = max(mx, (ll)px[nxt[x]] - px[pre[x]] - 1);\n        }\n    }\n} lst[N];\n\nll calc(int L){//\u5168\u4f53\u5de6\u79fb L \u4f4d\u540e\u7684\u60c5\u51b5\n    U = 1, D = n, mx = 0;\n    ll ans = 1e18;\n    U = px[1], D = px[nn];\n    for(int i = 1; i &lt;= mm; ++ i){//\u5efa\u51fa\u7b2c py[i]-L-1 \u5217\u7684\u94fe\u8868\n        if(py[i] - L &gt; 1){\n            for(int j = 1; j &lt;= nn; ++ j){\n                lst[i].pre[j] = j - 1;\n                lst[i].nxt[j] = j + 1;\n            }\n            for(int j = 1; j &lt;= nn; ++ j){//\u5220\u9664\u521d\u59cb\u4e3a\u7a7a\u7684\u4f4d\u7f6e\n                if(le[j] - L &gt; py[i] - L - 1){\n                    lst[i].del(j);\n                }\n            }\n        }\n    }\n    for(int j = 1; j &lt;= nn; ++ j){//\u7b2c m \u5217\u7684\u5217\u8868\uff0c\u521d\u59cb\u90fd\u662f\u6ee1\u7684\n        mx = max(mx, (ll)px[j] - px[j-1] - 1);\n        lst[0].pre[j] = j - 1;\n        lst[0].nxt[j] = j + 1;\n    }\n    int xx = can.size() - 1, yy = ed.size() - 1;\n    while(xx &gt;= 0 || yy &gt;= 0){//\u5012\u5e8f\u679a\u4e3e\u65f6\u95f4\uff0c\u5220\u70b9\n        if(yy &lt; 0 || (xx &gt;= 0 &amp;&amp; can[xx].first - L &gt;= ed[yy].first)){\n            int x = can[xx].second.first, y = can[xx].second.second;\n            if(can[xx].first - L &gt; 0){\n                ans = min(ans, can[xx].first - L + max(U - 1 + n - D, mx));\n                //\u8003\u8651\u94fe\u8868 y \u662f\u5426\u8981\u5220\u9664\u5143\u7d20 x\uff0c\u5373 x \u662f\u8be5\u884c\u6700\u540e\u7684\u5143\u7d20 \u6216\u8005 x \u540c\u884c\u4e0b\u4e00\u4e2a\u5143\u7d20 - L &gt; \u76ee\u524d\u8fd9\u4e00\u5217\n                if(px[a[x+1].first] != px[a[x].first] || py[a[x+1].second] - L &gt; py[y] - L - 1){\n                    lst[y].del(a[x].first);\n                }\n            }\n            -- xx;\n        } else {\n            int x = ed[yy].second;\n            if(ed[yy].first &gt; 0){\n                ans = min(ans, ed[yy].first + max(U - 1 + n - D, mx));\n                if(px[a[x+1].first] != px[a[x].first]){\n                    lst[0].del(a[x].first);\n                }\n            }\n            -- yy;\n        }\n    }\n    //\u8be5\u5220\u7684\u90fd\u5220\u4e86\uff0c\u5982\u679c\u8fd8\u53ef\u4ee5\u7684\u8bdd R \u5c31\u53ef\u4ee5 =0\u3002\n    ans = min(ans, max(U - 1 + n - D, mx));\n    return ans;\n}\n\nint main(){\n    scanf(\"%d%d%d\", &amp;n, &amp;m, &amp;K);\n    for(int i = 1; i &lt;= K; ++ i){\n        scanf(\"%d%d\", &amp;a[i].first, &amp;a[i].second);\n        px[i] = a[i].first;\n        py[i] = a[i].second;\n        le[i] = 1e9;\n    }\n    sort(a + 1, a + K + 1);\n    sort(px + 1, px + K + 1);\n    sort(py + 1, py + K + 1);\n    nn = unique(px + 1, px + K + 1) - px - 1;\n    mm = unique(py + 1, py + K + 1) - py - 1;\n    for(int i = 1; i &lt;= K; ++ i){\n        ed.push_back(make_pair(m - a[i].second, i));\n        a[i].first = lower_bound(px + 1, px + nn + 1, a[i].first) - px;\n        le[a[i].first] = min(le[a[i].first], a[i].second);\n        a[i].second = lower_bound(py + 1, py + mm + 1, a[i].second) - py;\n    }\n    for(int i = 1; i &lt;= mm; ++ i){\n        for(int j = 1; j &lt;= K; ++ j){\n            if(py[i] &gt; py[a[j].second]){\n                can.push_back(make_pair(py[i] - py[a[j].second] - 1, make_pair(j, i)));\n            }\n        }\n    }\n    sort(ed.begin(), ed.end());\n    sort(can.begin(), can.end());\n    ll ans = 1e18;\n    for(int i = 1; i &lt;= K; ++ i){\n        ans = min(ans, py[a[i].second] - 1 + calc(py[a[i].second] - 1));\n    }\n    printf(\"%lld\\n\", ans);\n    return 0;\n}\n</code></pre>"},{"location":"QOJ/361/","title":"JOISC2017 1B Port Facility","text":"<p>Problem Link: https://qoj.ac/problem/361\u3002</p> \u9898\u610f <p>\u4f60\u6709 \\(2\\) \u4e2a\u6808\u7528\u4e8e\u5b58\u653e \\(n\\) \u4e2a\u96c6\u88c5\u7bb1\uff0c\u6bcf\u4e2a\u96c6\u88c5\u7bb1\u6709\u4e2a\u5230\u8fbe\u65f6\u95f4\u3001\u79bb\u5f00\u65f6\u95f4\uff0c\u8fd9 \\(2n\\) \u4e2a\u65f6\u95f4\u6784\u6210 \\(1\\sim 2n\\) \u7684\u6392\u5217\u3002\u4f60\u9700\u8981\u6c42\uff0c\u6709\u591a\u5c11\u79cd\u96c6\u88c5\u7bb1-\u6808\u7684\u5bf9\u5e94\u65b9\u6848\uff0c\u4f7f\u5f97\u6bcf\u6b21\u53d6\u51fa\u96c6\u88c5\u7bb1\u65f6\uff0c\u5bf9\u5e94\u96c6\u88c5\u7bb1\u90fd\u5728\u6808\u9876\u3002 \\(n\\leq 10^6\\)\u3002</p> <p>\u9898\u610f\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u4e00\u4e2a\u6709 \\(n\\) \u7c7b\u62ec\u53f7\uff0c\u957f\u5ea6\u4e3a \\(2n\\) \u7684\u62ec\u53f7\u5e8f\u5217\uff0c\u6c42\u6709\u591a\u5c11\u79cd\u65b9\u6848\u5c06\u4ed6\u62c6\u5206\u6210\u4e24\u4e2a\u5b50\u5e8f\u5217\uff0c\u5404\u81ea\u90fd\u662f\u5408\u6cd5\u62ec\u53f7\u5e8f\u5217\u3002</p> <p>\u8003\u8651\u5efa\u56fe\uff1a\u5982\u679c\u4e24\u5bf9\u62ec\u53f7\u76f8\u4ea4\u4f46\u4e0d\u5305\u542b\uff0c\u5c31\u8fde\u8fb9\u3002\u6700\u540e\u7b54\u6848\u662f\uff0c\u5982\u679c\u56fe\u662f\u4e8c\u5206\u56fe\uff0c\\(2\\) \u7684\u8fde\u901a\u5757\u6570\u6b21\u65b9\uff1b\u5426\u5219\uff0c\\(0\\)\u3002</p> <p>\u8003\u8651\u4f18\u5316\u5efa\u56fe\uff1a\u7528\u7ebf\u6bb5\u6811\u7ef4\u62a4\uff0c\u5b8c\u5168\u5305\u542b\u67d0\u4e2a\u7ebf\u6bb5\u6811\u8282\u70b9\u7684\u533a\u95f4\u96c6\u5408\u3002\u7136\u540e\u6309\u7167\u53f3\u7aef\u70b9\u9012\u589e\u626b\u63cf\u533a\u95f4\uff0c\u626b\u63cf\u5230\u4e00\u4e2a\u533a\u95f4 \\(i\\)\uff0c\u67e5\u8be2\u5de6\u7aef\u70b9\u5bf9\u5e94\u6839\u94fe\u4e0a\u7684\u90a3\u4e9b\u533a\u95f4\u96c6\u5408\uff0c\u663e\u7136\u6b64\u65f6\u90a3\u4e9b\u533a\u95f4\u90fd\u8981\u548c\u533a\u95f4 \\(i\\) \u8fde\u8fb9\u3002\u6211\u4eec\u628a\u5b83\u4eec\u90fd\u8fde\u4e0a\u540e\uff0c\u6700\u91cd\u8981\u7684\u4e00\u4e2a\u4f18\u5316\u662f\uff1a\u5c06\u6839\u94fe\u4e0a\u6bcf\u4e00\u4e2a\u70b9\u7ef4\u62a4\u7684\u533a\u95f4\u96c6\u5408\u4e2d\u7684\u533a\u95f4\u5220\u9664\u5230\u53ea\u5269\u4e00\u4e2a\uff0c\u8fd9\u6837\u7684\u8bdd\uff0c\u8fb9\u6570\u53d8\u4e3a \\(O(n\\log n)\\)\uff0c\u4f46\u662f\u4e8c\u5206\u56fe\u6027\u548c\u8fde\u901a\u6027\u90fd\u4e0d\u53d8\u3002\u6700\u540e\uff0c\u5c06\u533a\u95f4 \\(i\\) \u63d2\u5165\u5230\u7ebf\u6bb5\u6811\u4e2d\u3002</p> <p>\u6700\u540e\u4e00\u4e2a dfs \u5373\u53ef\u7edf\u8ba1\u7b54\u6848\u3002</p> <pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 2e6 + 10;\nconst long long P = 1e9 + 7;\nint n, col[N], tot;\npair&lt;int, int&gt; a[N];\nbasic_string&lt;int&gt; t[N*4], g[N];\n\ninline void ask(int p, int l, int r, int ql, int qr, int x){\n    if(qr &lt; l || r &lt; ql){\n        return;\n    } else if(ql &lt;= l &amp;&amp; r &lt;= qr){\n        for(int i : t[p]){\n            g[x].push_back(i);\n            g[i].push_back(x);\n        }\n        if(t[p].size() &gt; 1){\n            int v = t[p][0];\n            basic_string&lt;int&gt; ().swap(t[p]);\n            t[p].push_back(v);\n        }\n    } else {\n        int mid = l + r &gt;&gt; 1;\n        ask(p&lt;&lt;1, l, mid, ql, qr, x);\n        ask(p&lt;&lt;1|1, mid+1, r, ql, qr, x);\n    }\n}\ninline void add(int p, int l, int r, int x, int v){\n    t[p].push_back(v);\n    if(l != r){\n        int mid = l + r &gt;&gt; 1;\n        if(x &lt;= mid){\n            add(p&lt;&lt;1, l, mid, x, v);\n        } else {\n            add(p&lt;&lt;1|1, mid+1, r, x, v);\n        }\n    }\n}\n\ninline void dfs(int x, int cl){\n    col[x] = cl;\n    for(int i : g[x]){\n        if(!col[i]){\n            dfs(i, 3 - cl);\n        }\n    }\n}\n\nint main(){\n    scanf(\"%d\", &amp;n);\n    for(int i = 1; i &lt;= n; ++ i){\n        scanf(\"%d%d\", &amp;a[i].first, &amp;a[i].second);\n    }\n    sort(a + 1, a + n + 1);\n    for(int i = 1; i &lt;= n; ++ i){\n        ask(1, 1, n + n, a[i].first, a[i].second, i);\n        add(1, 1, n + n, a[i].second, i);\n    }\n    for(int i = 1; i &lt;= n; ++ i){\n        if(!col[i]){\n            ++ tot;\n            dfs(i, 1);\n        }  \n    }\n    for(int i = 1; i &lt;= n; ++ i){\n        for(int j : g[i]){\n            if(col[i] == col[j]){\n                puts(\"0\");\n                return 0;\n            }\n        }\n    }\n    long long ans = 1;\n    while(tot--){\n        ans = ans * 2 % P;\n    }\n    printf(\"%lld\\n\", ans);\n    return 0;\n}\n</code></pre>"},{"location":"QOJ/362/","title":"JOISC2017 1C Sparklers","text":"<p>Problem Link: https://qoj.ac/problem/362\u3002</p> \u9898\u610f <p>\u6709 \\(n\\) \u4e2a\u4eba\u5206\u5e03\u5728\u6570\u8f74\u4e0a\uff0c\u7b2c \\(k\\) \u4e2a\u4eba\u624b\u4e2d\u6709\u4e2a\u70b9\u71c3\u7684\u70df\u82b1\u68d2\uff0c\u5176\u4ed6\u4eba\u7684\u70df\u82b1\u68d2\u90fd\u6ca1\u6709\u70b9\u71c3\u3002\u5982\u679c\u4e24\u4e2a\u4eba\u5750\u6807\u91cd\u53e0\uff0c\u4e14\u4e00\u4e2a\u4eba\u7684\u70df\u82b1\u68d2\u88ab\u70b9\u71c3\u4e86\uff0c\u90a3\u4e48\u53e6\u4e00\u4e2a\u4eba\u7684\u70df\u82b1\u68d2\u5c31\u53ef\u4ee5\u88ab\u70b9\u71c3\u3002\u6bcf\u4e2a\u4eba\u7684\u70df\u82b1\u68d2\u53ea\u80fd\u88ab\u70b9\u71c3\u4e00\u6b21\uff0c\u6bcf\u4e2a\u70df\u82b1\u68d2\u4ece\u70b9\u71c3\u5230\u7184\u706d\u4f1a\u7ecf\u8fc7 \\(T\\) \u7684\u65f6\u95f4\u3002\u73b0\u5728\u4f60\u9700\u8981\u627e\u5230\u4e00\u4e2a\u6700\u5c0f\u7684\u901f\u5ea6 \\(v\\)\uff0c\u4f7f\u5f97\u5982\u679c\u6240\u6709\u4eba\u7684\u6700\u5927\u901f\u5ea6\u4e3a \\(v\\)\uff0c\u5b58\u5728\u4e00\u79cd\u5b89\u6392\u4eba\u79fb\u52a8\u7684\u65b9\u6848\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u4eba\u7684\u70df\u82b1\u68d2\u90fd\u53ef\u4ee5\u88ab\u70b9\u71c3\u3002 \\(1\\leq n \\leq 10^6\\)\u3002</p> <p>\u660e\u786e\u4e00\u4e0b\u9898\u610f\uff1a\u4e24\u4e2a\u4eba\u5982\u679c\u78b0\u649e\uff0c\u4ed6\u4eec\u4e0d\u4e00\u5b9a\u8981\u4e00\u4e0b\u5b50\u5c31\u70b9\u71c3\u70df\u82b1\u68d2\uff0c\u53ef\u4ee5\u7b49\u5230\u7b2c\u4e00\u4e2a\u4eba\u70df\u82b1\u68d2\u5373\u5c06\u7184\u706d\u7684\u65f6\u5019\u518d\u70b9\u71c3\u7b2c\u4e8c\u4e2a\u3002</p> <p>\u53d1\u73b0\u539f\u9898\u53ef\u4ee5\u4e8c\u5206\uff0c\u4e8e\u662f\u9996\u5148\u5957\u4e00\u4e2a\u4e8c\u5206 \\(v\\)\u3002\u9996\u5148\uff0c\u7b2c \\(k\\) \u4e2a\u4eba\u4ee5\u5916\u7684\u4eba\u80af\u5b9a\u662f\u5411\u7740\u7b2c \\(k\\) \u4e2a\u4eba\u8d70\uff1b\u7b2c \\(k\\) \u4e2a\u4eba\u6709\u4e24\u4e2a\u65b9\u5411\uff0c\u8981\u4e48\u5411\u5de6\u8981\u4e48\u5411\u53f3\u3002\u90a3\u4e48\uff0c\u5c31\u53ef\u4ee5\u770b\u4f5c\uff0c\u7b2c \\(k\\) \u4e2a\u4eba\u4e0d\u52a8\uff0c\u4ed6\u7684\u4f4d\u7f6e\u770b\u4f5c\u7ec8\u70b9\uff0c\u5176\u4ed6\u6240\u6709\u4eba\u901f\u5ea6\u4e3a \\(1\\)\uff0c\u6240\u6709\u672a\u5230\u8fbe\u7ec8\u70b9\u4eba\u8fd0\u52a8\u65b9\u5411\u65f6\u523b\u76f8\u540c\uff0c\u5f53\u67d0\u4e2a\u4eba\u5230\u8fbe\u7ec8\u70b9\uff0c\u8fd9\u4e2a\u4eba\u5c31\u56fa\u5b9a\u5728\u8fd9\u91cc\u4e0d\u52a8\u3002\u70df\u82b1\u68d2\u53ef\u4ee5\u70b9\u71c3 \\(2Tv\\) \u7684\u65f6\u95f4\uff0c\u7136\u540e\uff0c\u7b2c \\(1\\) \u4e2a\u4eba\u5230\u8fbe\u7ec8\u70b9\u7684\u65f6\u95f4\u5e94\u8be5 \\(\\leq 2Tv\\)\uff0c\u7b2c \\(2\\) \u4e2a\u4eba\u5230\u8fbe\u7ec8\u70b9\u7684\u65f6\u95f4\u5e94\u8be5 \\(\\leq 2\\times 2Tv\\)\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002</p> <p>\u90a3\u4e48\uff0c\u6211\u4eec\u5c06\u5de6\u4fa7\u7684\u4eba\u8ddd\u79bb\u7ec8\u70b9\u7684\u8ddd\u79bb\u8bbe\u4e3a \\(p_1=0,p_2\\sim p_L,L=k\\)\uff1b\u53f3\u4fa7\u7684\u8bbe\u4e3a \\(q_1=0,q_2\\sim q_R,R=n-k+1\\)\uff0c\u5219\u5982\u679c\u5de6\u8fb9\u5230\u4e86 \\(i\\) \u4eba\uff0c\u53f3\u8fb9\u5230\u4e86 \\(j\\) \u4eba\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u4e2d\u95f4\u8fc7\u7a0b\uff0c\u90a3\u4e48\u6709 \\(p_i+q_j\\leq (i+j)\\times 2Tv\\)\uff0c\u5373 \\(p_i-2iTv \\leq q_j+2jTv\\)\u3002\u8bbe \\(P_i=p_i-2iTv,Q_j=q_j+2jTv\\)\uff0c\u90a3\u4e48\u6b64\u65f6\u9898\u76ee\u8f6c\u5316\u4e3a\uff0c\u80fd\u5426\u627e\u5230\u4e00\u6761 \\((1,1)\\to (L,R)\\) \u7684\u8def\u5f84\uff0c\u6bcf\u6b21\u6a2a\u5750\u6807 \\(+1\\) \u6216\u8005\u7eb5\u5750\u6807 \\(+1\\)\uff0c\u8fc7\u7a0b\u4e2d\u6240\u6709\u70b9 \\(P_x\\leq Q_y\\)\uff1f</p> <p>\u8fd9\u4e2a\u5c31\u662f NOIP 2023 \u53cc\u5e8f\u5217\u62d3\u5c55\u7684\u6a21\u578b\u3002\u5177\u4f53\u505a\u6cd5\u662f\uff1a\u5982\u679c\u6700\u5927\u503c\u5728 \\(Q_y\\)\uff0c\u6700\u5c0f\u503c\u5728 \\(P_x\\)\uff0c\u90a3\u4e48\u95ee\u9898\u53d8\u4e3a \\((1,1)\\) \u8d70\u5230 \\((x-1,y-1)\\) \u53f3\u4e0a\u8fb9\u754c\u4efb\u610f\u4e00\u70b9\uff1b\\((x+1,y+1)\\) \u5750\u4e0b\u8fb9\u754c\u4efb\u610f\u4e00\u70b9\u8d70\u5230 \\((L,R)\\)\uff0c\u4e8c\u8005\u662f\u5bf9\u79f0\u7684\uff0c\u53ea\u8003\u8651\u4e00\u90e8\u5206\u5c31\u53ef\u4ee5\u3002\u5982\u679c\u6700\u5c0f\u503c\u5728 \\(Q\\)\uff0c\u6216\u8005\u6700\u5927\u503c\u5728 \\(P\\)\uff0c\u8fd9\u4e00\u5217/\u4e00\u884c\u4f1a\u5c06\u6574\u4e2a\u77e9\u9635\u5b8c\u5168\u5206\u5f00\uff0c\u4e8e\u662f\u5224\u65e0\u89e3\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u90a3\u4e48\u8003\u8651 \\((1,1)\\) \u8d70\u5230 \\((L,R)\\) \u53f3\u4e0a\u8fb9\u754c\u4efb\u610f\u4e00\u70b9\uff0c\u8fd8\u662f\u8003\u8651\u6700\u5927\u6700\u5c0f\u503c\uff0c\u5982\u679c\u6700\u5927\u503c\u5728 \\(Q_y\\)\uff0c\u5c06 \\(R\\) \u53d8\u4e3a \\(y-1\\) \u5373\u53ef\uff1b\u5982\u679c\u6700\u5c0f\u503c\u5728 \\(P_x\\)\uff0c\u5c06 \\(L\\) \u53d8\u4e3a \\(x-1\\) \u5373\u53ef\uff1b\u5426\u5219\uff0c\u6700\u5c0f\u503c\u5728 \\(Q\\)\uff0c\u6700\u5927\u503c\u5728 \\(P\\)\uff0c\u90a3\u4e48\u8fd9\u4e00\u884c\u4e00\u5217\u4f1a\u5b8c\u5168\u5c06 \\((1,1)\\) \u4e0e\u5916\u9762\u7684\u90e8\u5206\u5206\u5272\u5f00\u6765\uff0c\u5224\u65e0\u89e3\u3002\u6700\u540e\uff0c\u5982\u679c \\(L=1\\) \u6216\u8005 \\(R=1\\) \u5c31\u6709\u89e3\u3002</p> <p>\u4e8c\u5206\u540e\u6309\u7167\u4e0a\u8ff0\u7b97\u6cd5\u5224\u65ad\uff0c\u590d\u6742\u5ea6 \\(O(n\\log V)\\)\u3002</p> <pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nconst int N = 1e5 + 10;\ntypedef long long ll;\nint n, K, T;\nint a[N];\n\nll p[N], q[N];\npair&lt;ll, int&gt; mxp[N], mxq[N], mnp[N], mnq[N];\nbool chk(ll x){\n    ll ds = T * x * 2;\n    int P = n - K + 1, Q = K;\n    for(int i = K; i &lt;= n; ++ i){\n        p[i-K+1] = ds * (i - K) - (a[i] - a[K]); \n    }\n    for(int i = K; i &gt;= 1; -- i){\n        q[K-i+1] = (a[K] - a[i]) - ds * (K - i);\n    }\n    for(int i = 1; i &lt;= P; ++ i){\n        mxp[i] = mnp[i] = make_pair(p[i], i);\n        if(i &gt; 1){\n            mxp[i] = max(mxp[i], mxp[i-1]);\n            mnp[i] = min(mnp[i], mnp[i-1]);\n        }\n        // printf(\"%lld \", p[i]);\n    }\n    // puts(\"\");\n    for(int i = 1; i &lt;= Q; ++ i){\n        mxq[i] = mnq[i] = make_pair(q[i], i);\n        if(i &gt; 1){\n            mxq[i] = max(mxq[i], mxq[i-1]);\n            mnq[i] = min(mnq[i], mnq[i-1]);\n        }\n        // printf(\"%lld \", q[i]);\n    }\n    // puts(\"\");\n    if(mxp[P].first &gt;= mxq[Q].first &amp;&amp; mnp[P].first &gt;= mnq[Q].first){\n        int pos = mxp[P].second - 1, qos = mnq[Q].second - 1;\n        // printf(\"--- %d %d\\n\", pos, qos);\n        while(pos &gt;= 1 &amp;&amp; qos &gt;= 1){\n            // printf(\"-- %d %d %d %d\\n\", pos, qos, mxp[pos].second, mxq[qos].first);\n            if(mxp[pos].first &gt;= mxq[qos].first){\n                pos = mxp[pos].second - 1;\n            } else if(mnq[qos].first &lt;= mnp[pos].first){\n                qos = mnq[qos].second - 1;\n            } else {\n                return 0;\n            }\n        }\n        pos = mxp[P].second + 1, qos = mnq[Q].second + 1;\n        for(int i = P; i &gt;= pos; -- i){\n            mxp[i] = mnp[i] = make_pair(p[i], i);\n            if(i &lt; P){\n                mxp[i] = max(mxp[i], mxp[i+1]);\n                mnp[i] = min(mnp[i], mnp[i+1]);\n            }\n        }\n        for(int i = Q; i &gt;= qos; -- i){\n            mxq[i] = mnq[i] = make_pair(q[i], i);\n            if(i &lt; Q){\n                mxq[i] = max(mxq[i], mxq[i+1]);\n                mnq[i] = min(mnq[i], mnq[i+1]);\n            }\n        }\n        while(pos &lt;= P &amp;&amp; qos &lt;= Q){\n            // printf(\"%d %d\\n\", pos, qos);\n            if(mxp[pos].first &gt;= mxq[qos].first){\n                pos = mxp[pos].second + 1;\n            } else if(mnq[qos].first &lt;= mnp[pos].first){\n                qos = mnq[qos].second + 1;\n            } else {\n                return 0;\n            }\n        }\n        return 1;\n    } else {\n        return 0;\n    }\n    //\u627e\u5230\u4e00\u6761 (0,0) -&gt; (P,Q) \u7684\u8def\u5f84\uff0c\u4f7f\u5f97\u6240\u6709 p_i&gt;=q_j\n}\n\nint main(){\n    scanf(\"%d%d%d\", &amp;n, &amp;K, &amp;T);\n    for(int i = 1; i &lt;= n; ++ i){\n        scanf(\"%d\", &amp;a[i]);\n    }\n    ll l = 0, r = 1e9;\n    // for(int i = 1; i &lt;= 10; ++ i){\n    //     printf(\"%d %d\\n\", i, chk(i));\n    // }\n    while(l &lt; r){\n        ll mid = l + r &gt;&gt; 1;\n        if(chk(mid)){\n            r = mid;\n        } else {\n            l = mid + 1;\n        }\n    }\n    printf(\"%lld\\n\", l);\n    return 0;\n}\n</code></pre>"},{"location":"QOJ/8999/","title":"qoj8999 Subsequences","text":"<p>Problem Link: https://qoj.ac/problem/8999\u3002</p> \u9898\u610f <p>\u7ed9\u4f60 \\(x\\)\uff0c\u6784\u9020\u4e00\u4e2a\u957f\u5ea6 \\(\\leq 1000\\) \u7684\uff0c\u672c\u8d28\u4e0d\u540c\u5b50\u5e8f\u5217\u4e2a\u6570\u4e3a \\(x\\) \u7684\u5b57\u7b26\u4e32\u3002</p> <p>\u52a0\u5f3a\u9898\u610f\uff1a\u6784\u9020\u7684\u5b57\u7b26\u4e32\u4e2d\u53ea\u6709 \\(2\\) \u79cd\u5b57\u7b26\u3002</p> <p>\u8003\u8651\u5982\u4f55\u6c42\u89e3\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u672c\u8d28\u4e0d\u540c\u5b50\u5e8f\u5217\u6570\u3002\u8bbe \\(a,b\\) \u4e3a\u76ee\u524d\u4ee5\u4e24\u79cd\u5b57\u7b26\u7ed3\u5c3e\u7684\u672c\u8d28\u4e0d\u540c\u5b50\u5e8f\u5217\u4e2a\u6570\uff0c\u521d\u59cb \\(a=b=1\\) \u8868\u793a\u5747\u4e3a\u7a7a\u3002\u7136\u540e\u904d\u5386\u6bcf\u4e2a\u5b57\u7b26\uff0c\u5982\u679c\u4e3a\u7b2c\u4e00\u79cd\u5b57\u7b26\uff0c\\(a\\leftarrow a + b\\)\uff1b\u5426\u5219 \\(b\\leftarrow b + a\\)\u3002\u6700\u540e\u7b54\u6848\u4e3a \\(a+b-1\\)\uff08\u56e0\u4e3a\u4e24\u4e2a\u91cc\u9762\u90fd\u6709\u7a7a\u4e32\uff09\u3002</p> <p>\u901a\u8fc7\u4e00\u70b9\u4eba\u7c7b\u667a\u6167\u53ef\u4ee5\u5f97\u5230\u505a\u6cd5\uff1a\u968f\u673a\u4e00\u4e2a \\(a\\)\uff0c\u8ba1\u7b97 \\(b=x+1-a\\)\uff0c\u7136\u540e\u8f97\u8f6c\u76f8\u51cf\uff0c\u770b\u8fc7\u7a0b\u4e2d\u662f\u5426\u6c38\u8fdc \\(a,b\\leq 0\\)\uff0c\u4e14\u80fd\u591f\u8db3\u591f\u5feb\u5730\u5230\u8fbe \\(a=b=1\\)\uff0c\u591a\u968f\u673a\u51e0\u6b21\u5c31\u53ef\u4ee5\u5f97\u5230\u7b54\u6848\u3002</p> <pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nint q;\ntypedef long long ll;\nll n;\n\nint main(){\n    mt19937 rnd(19993);\n    scanf(\"%d\", &amp;q);\n    while(q--){\n        scanf(\"%lld\", &amp;n);\n        ++ n;\n        while(true){\n            ll a = (rnd() * (1 &lt;&lt; 30) + rnd()) % (n - 1) + 1;\n            ll b = n - a;\n            int cnt = 0;\n            ll ta = a, tb = b;\n            while(ta != 1 || tb != 1){\n                ++ cnt;\n                if(ta &gt; tb){\n                    ta -= tb;\n                } else if(ta &lt; tb){\n                    tb -= ta;\n                } else {\n                    break;\n                }\n                if(cnt &gt; 500){\n                    break;\n                }\n            }\n            if(ta == 1 &amp;&amp; tb == 1){\n                while(a != 1 || b != 1){\n                    if(a &gt; b){\n                        putchar('i');\n                        a -= b;\n                    } else {\n                        putchar('o');\n                        b -= a;\n                    }\n                }\n                putchar('\\n');\n                break;\n            }\n        }\n    }\n    return 0;\n}\n</code></pre>"},{"location":"QOJ/9463/","title":"2024 1A \u57fa\u7840 ABC \u7ec3\u4e60\u9898","text":"<p>Problem Link: https://qoj.ac/problem/9463\u3002</p> \u9898\u610f <p>\u7ed9\u5b9a\u4e24\u4e2a\u96c6\u5408 \\(S_1,S_2\\)\uff0c\u5b9a\u4e49\u4e00\u4e2a\u957f\u5ea6\u4e3a \\(3n\\) \u4e14\u4ec5\u5305\u542b <code>ABC</code> \u4e09\u79cd\u5b57\u7b26\u7684\u4e32 \\(s\\) \u662f\u597d\u7684\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b58\u5728\u4e00\u79cd\u65b9\u6848\u5c06 \\(s\\) \u5212\u5206\u6210 \\(n\\) \u4e2a\u957f\u5ea6\u4e3a \\(3\\) \u7684\u5b50\u5e8f\u5217\uff0c\u4e14\u8fd9 \\(n\\) \u4e2a\u5b50\u5e8f\u5217\u90fd\u662f <code>ABC</code>\uff0c<code>BCA</code> \u6216 <code>CAB</code>\u3002\u8bbe \\(n\\) \u4e2a\u5b50\u5e8f\u5217\u4e2d <code>ABC</code> \u7684\u4e2a\u6570\u4e3a \\(x\\)\uff0c<code>BCA</code> \u7684\u4e2a\u6570\u4e3a \\(y\\)\uff0c\u8fd8\u8981\u6c42 \\(x\\in S_1,y\\in S_2\\)\u3002\u73b0\u5728\u6709\u4e00\u4e2a\u957f\u5ea6\u4e3a \\(3n\\) \u7684\u5b57\u7b26\u4e32 \\(s\\)\uff0c\u5b57\u7b26\u4e32\u4e2d\u4ec5\u5305\u542b <code>ABC?</code> \u56db\u79cd\u5b57\u7b26\uff0c\u4f60\u9700\u8981\u8ba1\u7b97\u5c06\u6240\u6709 <code>?</code> \u90fd\u5206\u522b\u66ff\u6362\u6210 <code>ABC</code> \u4e09\u4e2a\u5b57\u7b26\u4e2d\u7684\u67d0\u4e00\u4e2a\u7684\u65b9\u6848\uff0c\u4f7f\u5f97\u4e32 \\(s\\) \u662f\u597d\u7684\u3002\u5bf9 \\(2^{32}\\) \u53d6\u6a21\u3002 \\(n\\leq 60\\)\u3002</p> <p>AT_agc055_d \u662f\u672c\u9898\u7684\u5f31\u5316\u7248\u3002</p> <p>\u8003\u8651\u5982\u4f55\u5bf9\u4e8e\u4e00\u4e2a\u586b\u6ee1\u4e86\u7684 \\(S\\) \u5224\u65ad\u662f\u5426\u5408\u6cd5\u3002</p> <p>\u679a\u4e3e \\(x,y\\)\uff0c\u8868\u793a\u6709 \\(x\\) \u4e2a <code>ABC</code>\uff0c\\(y\\) \u4e2a <code>BCA</code>\uff0c\\(n-x-y\\) \u4e2a <code>CAB</code>\u3002</p> <p>\u6211\u4eec\u53d1\u73b0\u5176\u5b9e\u53ef\u4ee5\u8d2a\u5fc3\u5730\u5c06\u524d \\(x\\) \u4e2a <code>A</code> \u653e\u5230 <code>ABC</code> \u4e2d\uff0c\u524d \\(y\\) \u4e2a <code>B</code> \u653e\u5230 <code>BCA</code> \u4e2d\u3002</p> <p>\u8bc1\u660e\u4e00\u4e0b\uff1a\u5982\u679c\u4e24\u4e2a <code>A</code>\uff0c\u524d\u9762\u7684\u653e\u5230\u4e00\u4e2a <code>CAB</code> \u4e2d\uff0c\u540e\u9762\u7684\u653e\u5230\u4e00\u4e2a <code>ABC</code> \u4e2d\uff0c\u90a3\u4e48\uff0c\u4ea4\u6362\u4e24\u4e2a\u5b50\u5e8f\u5217\u7684 <code>AB</code> \u4f9d\u65e7\u53ef\u884c\u3002</p> <p>\u540c\u7406\uff0c\u6700\u540e\u7684 \\(x\\) \u4e2a <code>C</code> \u4e5f\u8d2a\u5fc3\u5730\u653e\u5230 <code>ABC</code> \u4e2d\uff0c\u53e6\u5916\u4e24\u4e2a\u4e00\u6837\u3002</p> <p>\u6240\u4ee5\uff0c<code>A</code> \u88ab\u5206\u4e3a\u4e09\u6bb5\uff0c\u524d \\(x\\) \u4e2a\u653e\u5230 <code>ABC</code> \u4e2d\uff0c\u4e2d\u95f4 \\(n-x-y\\) \u4e2a\u88ab\u653e\u5230 <code>CAB</code> \u4e2d\uff0c\u6700\u540e \\(y\\) \u4e2a\u653e\u5230 <code>BCA</code> \u4e2d\u3002<code>BC</code> \u90fd\u540c\u7406\u3002</p> <p>\u90a3\u4e48\u73b0\u5728\u7684\u9650\u5236\u5f62\u5982\uff0c\u5bf9\u4e8e\u7b2c \\([x+1,n]\\) \u4e2a <code>A</code>\uff0c\u8981\u665a\u4e8e\u7b2c \\([1,n-x]\\) \u4e2a <code>C</code> \u51fa\u73b0\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8bbe \\(sum_{i,A/B/C}\\) \u8868\u793a\u4e09\u4e2a\u5b57\u7b26\u7684\u524d\u7f00\u51fa\u73b0\u6b21\u6570\uff0c\\(sum_{i,C}-sum_{i,A} \\leq x\\)\u3002</p> <p>\u540c\u7406\uff0c\\(sum_{i,A}-sum_{i,B}\\leq y\\)\uff0c\\(\\sum_{i,B}-sum_{i,C}\\leq n-x-y\\)\u3002</p> <p>\u4e8e\u662f\uff0c\u6211\u4eec\u679a\u4e3e \\(sum_{i,C}-sum_{i,A}=X\\in S_1,sum_{i,A}-sum_{i,B}=Y\\in S_2\\)\uff0c\u7136\u540e\u518d\u5bb9\u65a5\u4e00\u4e0b\u53d8\u4e3a \\(\\leq\\)\uff0c\u73b0\u5728\u9650\u5236\u53ea\u6709\u8fd9\u4e09\u4e2a\u91cf\u90fd\u5404\u81ea \\(\\leq\\) \u67d0\u4e2a\u6570\u3002</p> <p>dp\uff0c\u8bbe \\(f_{i,a,b}\\) \u8868\u793a\u8003\u8651\u524d \\(i\\) \u4e2a\u5b57\u7b26\uff0c\\(a\\) \u4e2a <code>A</code>\uff0c\\(b\\) \u4e2a <code>B</code>\uff0c\u8fc7\u7a0b\u4e2d\u5168\u90e8\u7b26\u5408\u4e0a\u8ff0\u6761\u4ef6\u3002\u7136\u540e\u679a\u4e3e\u4e0b\u4e00\u4f4d\u4e3a\u54ea\u4e00\u4e2a\u5b57\u7b26\u8f6c\u79fb\u5373\u53ef\uff0c\u5355\u6b21\u8f6c\u79fb \\(O(n^3)\\)\u3002</p> <p>\u52a0\u4e0a\u679a\u4e3e \\(X,Y\\)\uff0c\u603b\u590d\u6742\u5ea6 \\(O(n^5)\\)\u3002</p> <pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\nint n;\nchar s[200], s1[100], s2[100];\ntypedef unsigned int ll;\nconst int N = 62;\n\nll f[N][N], g[N][N];\nll hav[N][N][N];\nint vis[N][N][N];\nll calc(int x, int y, int z){\n    if(x &lt; 0 || y &lt; 0 || z &lt; 0){\n        return 0;\n    }\n    if(vis[x][y][z]){\n        return hav[x][y][z];\n    }\n    vis[x][y][z] = 1;\n    memset(f, 0, sizeof(f));\n    f[0][0] = 1;\n    ll ans = 0;\n    for(int c = 0; c &lt; n + n + n; ++ c){\n        memcpy(g, f, sizeof(g));\n        memset(f, 0, sizeof(f));\n        for(int i = min(n, c); i &gt;= max(0, c - n - n); -- i){\n            for(int j = min(n, c); j &gt;= max(0, c - n - i); -- j){\n                int k = c - i - j;\n                if(!g[i][j]){\n                    continue;\n                }\n                if((s[c+1] == 'A' || s[c+1] == '?') &amp;&amp; i+1 &lt;= n &amp;&amp; i+1-k &lt;= z){\n                    f[i+1][j] += g[i][j];\n                }\n                if((s[c+1] == 'B' || s[c+1] == '?') &amp;&amp; j+1 &lt;= n &amp;&amp; j+1-i &lt;= x){\n                    f[i][j+1] += g[i][j];\n                }\n                if((s[c+1] == 'C' || s[c+1] == '?') &amp;&amp; k+1 &lt;= n &amp;&amp; k+1-j &lt;= y){\n                    f[i][j] += g[i][j];\n                }\n            }\n        }\n    }\n    return hav[x][y][z] = f[n][n];\n}\n\nvoid solve(){\n    ll ans = 0;\n    for(int x = 0; x &lt;= n; ++ x){\n        for(int z = 0; x + z &lt;= n; ++ z){\n            int p = z, q = x;\n            while(p &lt;= n &amp;&amp; s1[p] == '0'){\n                ++ p;\n            }\n            while(q &lt;= n &amp;&amp; s2[q] == '0'){\n                ++ q;\n            }\n            int maxy = n - p - q;\n            if(maxy &gt;= 0){\n                ans += calc(x, maxy, z);\n                ans -= calc(x-1, maxy, z);\n                ans -= calc(x, maxy, z-1);\n                ans += calc(x-1, maxy, z-1);\n            }\n        }\n    }\n    printf(\"%u\\n\", ans);\n}\n\nint main(){\n    int T, id;\n    scanf(\"%d%d\", &amp;T, &amp;id);\n    for(int i = 1; i &lt;= T; ++ i){\n        scanf(\"%d%s%s%s\", &amp;n, s1, s2, s + 1);\n        if(i == 60){\n            solve();\n        } else {\n            puts(\"-1\");\n        }\n    }\n    return 0;\n}\n</code></pre>"},{"location":"QOJ/9492/","title":"2024 2B \u6811\u4e0a\u7b80\u5355\u6c42\u548c","text":"<p>Problem Link: https://qoj.ac/problem/9492\u3002</p> \u9898\u610f <p>\u6709 \\(n\\) \u4e2a\u8282\u70b9\uff0c\u7b2c \\(x\\) \u4e2a\u8282\u70b9\u6709\u70b9\u6743 \\(a_x\\)\uff0c\u6709\u4e24\u68f5\u6811\u5206\u522b\u72ec\u7acb\u5730\u8fde\u63a5\u4e86\u8fd9 \\(n\\) \u4e2a\u70b9\uff0c\u4e24\u68f5\u6811\u70b9\u6743\u662f\u5171\u7528\u7684\u3002\u4f60\u9700\u8981\u8fdb\u884c \\(m\\) \u6b21\u64cd\u4f5c\uff0c\u6bcf\u6b21\u64cd\u4f5c\u7ed9\u5b9a \\(x,y,k\\)\uff0c\u8fdb\u884c\u4ee5\u4e0b\u4e24\u6b65\uff1a     1. \u5c06\u7b2c\u4e00\u68f5\u6811\u4e0a \\(x,y\\) \u4e4b\u95f4\u6700\u77ed\u8def\u5f84\u4e0a\u6240\u6709\u8282\u70b9\u7684\u70b9\u6743\u589e\u52a0 \\(k\\)\uff1b     2. \u6c42\u7b2c\u4e8c\u68f5\u6811\u4e0a \\(x,y\\) \u4e4b\u95f4\u6700\u77ed\u8def\u5f84\u4e0a\u7684\u70b9\u6743\u548c\u5bf9 \\(2^{64}\\) \u53d6\u6a21\u7684\u7ed3\u679c\u3002 \\(n,m\\leq 2\\times 10^5\\)\u3002</p> <p>\u4e09\u79cd\u505a\u6cd5\u3002</p>"},{"location":"QOJ/9492/#part-1","title":"Part 1. \u6811\u5206\u5757","text":"<p>\u9996\u5148\u4e00\u6761\u8def\u5f84\u62c6\u6210\u56db\u6761\u6839\u94fe\u3002</p> <p>\u5bf9\u4e24\u68f5\u6811\u90fd\u968f\u673a\u6492\u70b9\u5206\u5757\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u70b9\u5411\u4e0a\u8d70 \\(O(B)\\) \u6b65\u90fd\u80fd\u8d70\u5230\u4e00\u4e2a\u5173\u952e\u70b9\u3002</p> <ol> <li>T1 \u5173\u952e\u70b9\u6839\u94fe -&gt; T2 \u5173\u952e\u70b9\u6839\u94fe\u3002\u9884\u5904\u7406\u51fa\u8d21\u732e\u7cfb\u6570\u5373\u53ef\u3002</li> <li>T1 \u5173\u952e\u70b9\u6839\u94fe -&gt; T2 \u5355\u70b9\u3002\u5bf9 T1 \u8fdb\u884c dfn \u5e8f\u5206\u5757\uff0c\u53d8\u4e3a dfn \u5e8f\u4e0a\u7684 \\(O(B)\\) \u5355\u70b9\u52a0 \\(O(1)\\) \u533a\u95f4\u67e5\u95ee\u9898\u3002</li> <li>T1 \u5355\u70b9 -&gt; T2 \u5173\u952e\u70b9\u6839\u94fe\u3002\u5bf9 T2 \u8fdb\u884c dfn \u5e8f\u5206\u5757\uff0c\u53d8\u4e3a dfn \u5e8f\u4e0a\u7684 \\(O(B)\\) \u533a\u95f4\u52a0 \\(O(1)\\) \u5355\u70b9\u67e5\u95ee\u9898\u3002</li> <li>T1 \u5355\u70b9 -&gt; T2 \u5355\u70b9\u3002\u76f4\u63a5\u6620\u5c04\u5c31\u884c\u3002</li> </ol> <p>\u590d\u6742\u5ea6 \\(O(n\\sqrt n)\\)\u3002</p> <p>\u4e00\u4e2a\u6709\u4e00\u70b9\u53d8\u5316\u7684\u505a\u6cd5\uff1aT1 \u4e0d\u5206\u5757\uff0c\u7ef4\u62a4 T1 \u6bcf\u4e2a\u6839\u94fe\u5230 T2 \u5173\u952e\u70b9\u6839\u94fe\u7684\u8d21\u732e\u7cfb\u6570\uff0cT1 \u6839\u94fe-&gt; T2 \u5355\u70b9\u4e00\u6837\u662f dfn \u5e8f\u5206\u5757\u3002\u9700\u8981\u9010\u5757\u5904\u7406\u624d\u80fd\u505a\u5230\u7ebf\u6027\u7a7a\u95f4\u590d\u6742\u5ea6\uff0c\u800c\u4e14\u5e38\u6570\u611f\u89c9\u5f88\u5927\u3002</p>"},{"location":"QOJ/9492/#part-2","title":"Part 2. \u6811\u5256+\u5206\u5757","text":"<p>\u94fe\u901a\u8fc7\u6811\u5256\u62c6\u6210 \\(O(\\log n)\\) \u4e2a\u533a\u95f4\uff0c\u7136\u540e\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a\u7ecf\u5178\u95ee\u9898\uff1a\\(a\\) \u533a\u95f4\u52a0\uff0c\u67e5 \\(a_{p_{[l,r]}}\\) \u7684\u548c\u3002</p> <p>\u8bbe\u5de6\u4fa7\u4e3a \\([1,n]\\)\uff0c\u53f3\u4fa7\u4e3a \\(p_{[1,n]}\\)\u3002 \u5bf9\u4e24\u4fa7\u90fd\u5206\u5757\uff0c\u7ef4\u62a4\u4e24\u4e2a\u5927\u5c0f\u4e3a \\(n/B\\) \u7684 \\(left,right\\) \u6570\u7ec4\uff0c\u6c42\u51fa \\(cnt_{i,j}\\) \u8868\u793a\u5de6\u4fa7\u524d \\(i\\) \u4e2a\u5757\u5bf9\u53f3\u4fa7\u7b2c \\(j\\) \u4e2a\u5757\u7684\u8d21\u732e\u7cfb\u6570\u3002</p> <ol> <li>\u6574\u5757 -&gt; \u6574\u5757\uff1a\u901a\u8fc7 \\(cnt\\) \u7684\u503c\uff0c\u4fee\u6539 \\(right\\)\u3002</li> <li>\u6574\u5757 -&gt; \u5355\u70b9\uff1a\u5148\u4e0d\u8d21\u732e\u5230\u53f3\u4fa7\uff0c\u4f7f\u7528 \\(left\\) \u8bb0\u5f55\u5373\u53ef\u3002</li> <li>\u5355\u70b9 -&gt; \u6574\u5757\uff1a\u4fee\u6539 \\(right\\)\u3002</li> <li>\u5355\u70b9 -&gt; \u5355\u70b9\uff1a\u76f4\u63a5\u8bb0\u5f55\u5373\u53ef\u3002</li> </ol> <p>\u590d\u6742\u5ea6 \\(O(n\\log n\\sqrt n)\\)\uff0c\u975e\u5e38\u5feb\uff01</p>"},{"location":"QOJ/9492/#part-3","title":"Part 3. \u62ec\u53f7\u5e8f/\u6b27\u62c9\u5e8f\u5206\u5757","text":"<p>\u5bf9\u4e24\u68f5\u6811\u6c42\u6b27\u62c9\u5e8f\uff0c\u7136\u540e\u7b2c\u4e00\u6b21\u51fa\u73b0\u8d21\u732e\u4e3a \\(+1\\)\uff0c\u7b2c\u4e8c\u6b21\u51fa\u73b0\u4e3a \\(-1\\)\uff0c\u90a3\u4e48\uff0c\u4e00\u6761\u6839\u94fe\u5c31\u76f8\u5f53\u4e8e\u62ec\u53f7\u5e8f\u4e2d\u7684\u4e00\u6bb5\u524d\u7f00\u8d21\u732e\u7684\u548c\u3002\u4f7f\u7528 Part 2 \u4e2d\u7684\u5e8f\u5217\u5206\u5757\u624b\u6cd5\u7ef4\u62a4\u5373\u53ef\u3002\u590d\u6742\u5ea6 \\(O(n\\sqrt n)\\)\uff0c\u4e0d\u77e5\u9053\u5feb\u4e0d\u5feb\u3002</p> <p>\u7b2c\u4e8c\u79cd\u505a\u6cd5\u7684\u5b9e\u73b0\uff1a</p> <pre><code>//qoj9492\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\ntypedef unsigned long long ll;\n\nstruct TREE{\n    int n, dfn_cnt;\n    vector&lt;vector&lt;int&gt; &gt; graph;\n    vector&lt;int&gt; size, depth, son, dfn, top, father;\n    void dfs(int x, int fa){\n        size[x] = 1;\n        father[x] = fa;\n        for(auto i : graph[x]){\n            if(i == fa){\n                continue;\n            }\n            depth[i] = depth[x] + 1;\n            dfs(i, x);\n            size[x] += size[i];\n            if(son[x] == -1 || size[i] &gt; size[son[x]]){\n                son[x] = i;\n            }\n        }\n    }\n    void dfs_again(int x, int topnode){\n        dfn[x] = dfn_cnt ++;\n        top[x] = topnode;\n        if(son[x] != -1){\n            dfs_again(son[x], topnode);\n        }\n        for(auto i : graph[x]){\n            if(i == father[x] || i == son[x]){\n                continue;\n            }\n            dfs_again(i, i);\n        }\n    }\n    void read_init(int node_cnt){\n        dfn_cnt = 0;\n        n = node_cnt;\n        graph.resize(n);\n        size.resize(n);\n        depth.resize(n);\n        son.resize(n, -1);\n        dfn.resize(n);\n        top.resize(n);\n        father.resize(n);\n        for(int i = 1; i &lt; n; ++ i){\n            int u, v;\n            cin &gt;&gt; u &gt;&gt; v;\n            -- u;\n            -- v;\n            graph[u].push_back(v);\n            graph[v].push_back(u);\n        }\n        dfs(0, 0);\n        dfs_again(0, 0);\n    }\n    void decomp(int u, int v, vector&lt;pair&lt;int, int&gt; &gt; &amp;result){\n        result.clear();\n        while(top[u] != top[v]){\n            if(depth[top[u]] &lt; depth[top[v]]){\n                swap(u, v);\n            }\n            result.emplace_back(dfn[top[u]], dfn[u]);\n            u = father[top[u]];\n        }\n        if(depth[u] &gt; depth[v]){\n            swap(u, v);\n        }\n        result.emplace_back(dfn[u], dfn[v]);\n    }\n};\n\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cout.tie(0);\n    int n, q;\n    cin &gt;&gt; n &gt;&gt; q;\n    vector&lt;ll&gt; value(n);\n    for(int i = 0; i &lt; n; ++ i){\n        cin &gt;&gt; value[i];\n    }\n    TREE tr1, tr2;\n    tr1.read_init(n);\n    tr2.read_init(n);\n\n    const int B = 450;\n    const int block_cnt = (n + B - 1) / B;\n    vector&lt;int&gt; fr(n), to(n);\n    vector&lt;int&gt; L(block_cnt), R(block_cnt);\n    for(int i = 0; i &lt; block_cnt; ++ i){\n        L[i] = i * B;\n        R[i] = min(L[i] + B, n) - 1;\n    }\n    for(int i = 0; i &lt; n; ++ i){\n        to[tr1.dfn[i]] = tr2.dfn[i];\n        fr[tr2.dfn[i]] = tr1.dfn[i];\n    }\n    vector&lt;vector&lt;ll&gt; &gt; cnt(block_cnt, vector&lt;ll&gt;(block_cnt));\n    //T1 \u524d i \u4e2a\u5757 -&gt; T2 \u7b2c j \u4e2a\u5757\n    vector&lt;ll&gt; val(n), left(block_cnt), right(block_cnt);\n\n    for(int i = 0; i &lt; n; ++ i){\n        ++ cnt[i / B][to[i] / B];\n    }\n    for(int i = 1; i &lt; block_cnt; ++ i){\n        for(int j = 0; j &lt; block_cnt; ++ j){\n            cnt[i][j] += cnt[i-1][j];\n        }\n    }\n\n    auto brute_add = [&amp;](int l, int r, ll w){\n        for(int i = l; i &lt;= r; ++ i){\n            right[to[i] / B] += w;\n            val[i] += w;\n        }\n    };\n    auto brute_query = [&amp;](int l, int r){\n        ll ans = 0;\n        for(int i = l; i &lt;= r; ++ i){\n            ans += val[fr[i]] + left[fr[i] / B];\n        }\n        return ans;\n    };\n    auto block_add = [&amp;](int l, int r, ll w){\n        if(l &lt;= r){\n            for(int i = 0; i &lt; block_cnt; ++ i){\n                right[i] += (cnt[r][i] - cnt[l-1][i]) * w;\n            }\n            for(int i = l; i &lt;= r; ++ i){\n                left[i] += w;\n            }\n        }\n    };\n    auto block_query = [&amp;](int l, int r){\n        ll ans = 0;\n        for(int i = l; i &lt;= r; ++ i){\n            ans += right[i];\n        }\n        return ans;\n    };\n    auto add = [&amp;](int l, int r, ll w){\n        const int bl = l / B, br = r / B;\n        if(bl == br){\n            brute_add(l, r, w);\n        } else {\n            brute_add(l, R[bl], w);\n            brute_add(L[br], r, w);\n            block_add(bl + 1, br - 1, w);\n        }\n    };\n    auto query = [&amp;](int l, int r){\n        const int bl = l / B, br = r / B;\n        if(bl == br){\n            return brute_query(l, r);\n        } else {\n            return brute_query(l, R[bl]) + \n                   brute_query(L[br], r) + \n                   block_query(bl + 1, br - 1);\n        }\n    };\n\n    for(int i = 0; i &lt; n; ++ i){\n        add(tr1.dfn[i], tr1.dfn[i], value[i]);\n    }\n    vector&lt;pair&lt;int, int&gt; &gt; path;\n    for(int i = 0; i &lt; q; ++ i){\n        int u, v;\n        ll k;\n        cin &gt;&gt; u &gt;&gt; v &gt;&gt; k;\n        -- u;\n        -- v;\n        tr1.decomp(u, v, path);\n        for(auto i : path){\n            add(i.first, i.second, k);\n        }\n        tr2.decomp(u, v, path);\n        ll ans = 0;\n        for(auto i : path){\n            ans += query(i.first, i.second);\n        }\n        cout &lt;&lt; ans &lt;&lt; '\\n';\n    }\n    return 0;\n}\n</code></pre>"},{"location":"examples/","title":"MkDocs Material Features Demo","text":"<p>Welcome to the MkDocs Material features showcase! This demo site demonstrates the powerful features of the Material for MkDocs theme.</p>"},{"location":"examples/#quick-start","title":"\ud83d\ude80 Quick Start","text":"<p>Getting Started</p> <p>This demo showcases various features available in mkdocs-material. Navigate through the sections to explore different capabilities.</p>"},{"location":"examples/#featured-sections","title":"\u2728 Featured Sections","text":"<ul> <li>Code Highlighting - Syntax highlighting for multiple languages</li> <li>Admonitions - Beautiful callout boxes for notes, warnings, and tips</li> <li>Tabs - Organize content in tabbed interfaces</li> <li>Math Support - Mathematical expressions with LaTeX</li> <li>Diagrams - Mermaid.js diagram support</li> <li>Task Lists - Interactive checkboxes</li> <li>Tables - Advanced table formatting</li> <li>Icons &amp; Emojis - Material Design icons and emojis</li> </ul>"},{"location":"examples/#navigation-features","title":"\ud83c\udfaf Navigation Features","text":"<ul> <li>Tabs Navigation - Navigate between sections easily</li> <li>Search - Fast, client-side search with highlighting</li> <li>Dark/Light Mode - Toggle between color schemes</li> <li>Responsive Design - Works on all device sizes</li> </ul> <p>Start exploring the features using the navigation menu!</p>"},{"location":"examples/admonitions/","title":"Admonitions","text":"<p>Admonitions are callout boxes that help highlight important information.</p>"},{"location":"examples/admonitions/#basic-admonitions","title":"Basic Admonitions","text":"<p>Note</p> <p>This is a note admonition. Use it for general information.</p> <p>Abstract</p> <p>This is an abstract admonition. Perfect for summaries.</p> <p>Information</p> <p>This is an info admonition. Use it for helpful information.</p> <p>Tip</p> <p>This is a tip admonition. Great for pro-tips and best practices.</p> <p>Success</p> <p>This is a success admonition. Use it to indicate successful operations.</p> <p>Question</p> <p>This is a question admonition. Perfect for FAQs.</p> <p>Warning</p> <p>This is a warning admonition. Use it for important warnings.</p> <p>Failure</p> <p>This is a failure admonition. Use it to indicate failed operations.</p> <p>Danger</p> <p>This is a danger admonition. Use it for critical warnings.</p> <p>Bug</p> <p>This is a bug admonition. Use it to report bugs.</p> <p>Example</p> <p>This is an example admonition. Perfect for code examples.</p> <p>Quote</p> <p>This is a quote admonition. Use it for quotations.</p>"},{"location":"examples/admonitions/#collapsible-admonitions","title":"Collapsible Admonitions","text":"Click to expand <p>This content is hidden by default. Click the title to reveal it.</p> Expanded by default <p>This content is visible by default. Click the title to collapse it.</p>"},{"location":"examples/admonitions/#nested-admonitions","title":"Nested Admonitions","text":"<p>Important Setup</p> <p>Before proceeding, make sure you have:</p> Prerequisites <ul> <li>Python 3.8+</li> <li>Git installed</li> <li>Internet connection</li> </ul> Optional <ul> <li>Docker (for containerized deployment)</li> <li>Redis (for caching)</li> </ul>"},{"location":"examples/admonitions/#admonitions-with-code","title":"Admonitions with Code","text":"<p>Configuration Example</p> <pre><code>theme:\n  name: material\n  features:\n    - navigation.tabs\n    - navigation.sections\n    - search.highlight\n</code></pre> <p>Best Practice</p> <p>Always test your documentation locally before deploying: <pre><code>mkdocs serve\n</code></pre></p>"},{"location":"examples/admonitions/#custom-titles","title":"Custom Titles","text":"<p>Custom Title</p> <p>You can use any title you want for admonitions.</p>"},{"location":"examples/code-highlighting/","title":"Code Highlighting","text":"<p>MkDocs Material provides excellent syntax highlighting for various programming languages.</p>"},{"location":"examples/code-highlighting/#python-example","title":"Python Example","text":"<pre><code>import math\n\ndef calculate_area(radius):\n    \"\"\"Calculate the area of a circle.\"\"\"\n    return math.pi * radius ** 2\n\ndef fibonacci(n):\n    \"\"\"Generate Fibonacci sequence.\"\"\"\n    a, b = 0, 1\n    for _ in range(n):\n        yield a\n        a, b = b, a + b\n\n# Example usage\nif __name__ == \"__main__\":\n    print(f\"Area of circle with radius 5: {calculate_area(5):.2f}\")\n    print(f\"First 10 Fibonacci numbers: {list(fibonacci(10))}\")\n</code></pre>"},{"location":"examples/code-highlighting/#javascript-example","title":"JavaScript Example","text":"<pre><code>class Calculator {\n    constructor() {\n        this.result = 0;\n    }\n\n    add(x) {\n        this.result += x;\n        return this;\n    }\n\n    multiply(x) {\n        this.result *= x;\n        return this;\n    }\n\n    getResult() {\n        return this.result;\n    }\n}\n\n// Usage\nconst calc = new Calculator();\nconsole.log(calc.add(5).multiply(3).getResult()); // 15\n</code></pre>"},{"location":"examples/code-highlighting/#htmlcss-example","title":"HTML/CSS Example","text":"<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;Sample Page&lt;/title&gt;\n    &lt;style&gt;\n        .container {\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 20px;\n        }\n\n        .card {\n            background: white;\n            border-radius: 8px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n            padding: 20px;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;div class=\"card\"&gt;\n            &lt;h1&gt;Hello World&lt;/h1&gt;\n            &lt;p&gt;This is a sample page.&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"examples/code-highlighting/#sql-example","title":"SQL Example","text":"<pre><code>-- Create users table\nCREATE TABLE users (\n    id SERIAL PRIMARY KEY,\n    username VARCHAR(50) UNIQUE NOT NULL,\n    email VARCHAR(100) UNIQUE NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Insert sample data\nINSERT INTO users (username, email) VALUES\n('alice', 'alice@example.com'),\n('bob', 'bob@example.com'),\n('charlie', 'charlie@example.com');\n\n-- Query with JOIN\nSELECT \n    u.username,\n    p.title,\n    p.created_at\nFROM users u\nJOIN posts p ON u.id = p.user_id\nWHERE p.created_at &gt; '2024-01-01'\nORDER BY p.created_at DESC;\n</code></pre>"},{"location":"examples/code-highlighting/#copy-code-feature","title":"Copy Code Feature","text":"<p>The Copy button allows users to easily copy code snippets to their clipboard.</p>"},{"location":"examples/interactive-features/","title":"Interactive Features","text":"<p>MkDocs Material provides various interactive elements.</p>"},{"location":"examples/interactive-features/#task-lists","title":"Task Lists","text":""},{"location":"examples/interactive-features/#basic-task-list","title":"Basic Task List","text":"<ul> <li> Install mkdocs-material</li> <li> Configure mkdocs.yml</li> <li> Write documentation</li> <li> Deploy to GitHub Pages</li> <li> Add custom domain</li> </ul>"},{"location":"examples/interactive-features/#nested-task-lists","title":"Nested Task Lists","text":"<ul> <li> Project Setup</li> <li> Initialize git repository</li> <li> Create virtual environment</li> <li> Install dependencies<ul> <li> mkdocs</li> <li> mkdocs-material</li> <li> mkdocs-redirects</li> </ul> </li> <li> Content Creation</li> <li> Write index page</li> <li> Add API documentation</li> <li> Create tutorials</li> </ul>"},{"location":"examples/interactive-features/#tooltips","title":"Tooltips","text":"<p>Hover over the following terms to see tooltips:</p> <ul> <li>Python<sup>1</sup></li> <li>JavaScript<sup>2</sup></li> <li>API<sup>3</sup></li> <li>CLI<sup>4</sup></li> </ul>"},{"location":"examples/interactive-features/#tables","title":"Tables","text":""},{"location":"examples/interactive-features/#basic-table","title":"Basic Table","text":"Feature Status Description Search \u2705 Full-text search with highlighting Dark Mode \u2705 Toggle between light and dark themes Responsive \u2705 Works on all device sizes Math Support \u2705 LaTeX mathematical expressions Diagrams \u2705 Mermaid.js diagram support"},{"location":"examples/interactive-features/#complex-table","title":"Complex Table","text":"Language Paradigm Typing Popular Frameworks Python Multi-paradigm Dynamic Django, Flask, FastAPI JavaScript Multi-paradigm Dynamic React, Vue, Angular TypeScript Multi-paradigm Static Angular, React, Vue Java OOP Static Spring, Hibernate Go Procedural Static Gin, Echo"},{"location":"examples/interactive-features/#table-with-alignment","title":"Table with Alignment","text":"Left Aligned Center Aligned Right Aligned This text is centered 123.45 Left aligned also centered 67.89 More text centered here 0.00"},{"location":"examples/interactive-features/#emojis","title":"Emojis","text":"<p>MkDocs Material supports emojis throughout your documentation:</p> <ul> <li>\u2705 Success and completion</li> <li>\u274c Errors and failures</li> <li>\u26a0\ufe0f Warnings and cautions</li> <li>\u2139\ufe0f Information and notes</li> <li>\ud83d\udd27 Tools and configuration</li> <li>\ud83d\ude80 Performance and speed</li> <li>\ud83c\udfa8 Design and UI</li> <li>\ud83d\udd12 Security features</li> <li>\ud83d\udcca Analytics and data</li> <li>\ud83c\udf10 Web and networking</li> </ul>"},{"location":"examples/interactive-features/#icons","title":"Icons","text":"<p>You can use Material Design Icons throughout your documentation:</p> <ul> <li> Love and favorites</li> <li> Ratings and stars</li> <li> Downloads</li> <li> Uploads</li> <li>:material-settings: Settings</li> <li> User accounts</li> <li> Security</li> <li> Protection</li> <li> Launch and deploy</li> <li> Bugs and issues</li> </ul>"},{"location":"examples/interactive-features/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"<p>Use <code>kbd</code> tags for keyboard shortcuts:</p> <ul> <li>Press :kbd:<code>Ctrl</code> + :kbd:<code>C</code> to copy</li> <li>Use :kbd:<code>Ctrl</code> + :kbd:<code>V</code> to paste</li> <li>:kbd:<code>Ctrl</code> + :kbd:<code>S</code> saves the file</li> <li>:kbd:<code>Ctrl</code> + :kbd:<code>F</code> opens search</li> <li>:kbd:<code>Ctrl</code> + :kbd:<code>Z</code> undoes the last action</li> </ul>"},{"location":"examples/interactive-features/#highlighted-text","title":"Highlighted Text","text":"<p>You can highlight important text using the mark extension.</p> <p>Use highlights to draw attention to key concepts and important information that readers should pay special attention to.</p> <ol> <li> <p>A high-level programming language known for its readability and versatility.\u00a0\u21a9</p> </li> <li> <p>A programming language primarily used for web development.\u00a0\u21a9</p> </li> <li> <p>Application Programming Interface - a set of rules for software communication.\u00a0\u21a9</p> </li> <li> <p>Command Line Interface - a text-based interface for interacting with software.\u00a0\u21a9</p> </li> </ol>"},{"location":"examples/math-diagrams/","title":"Math &amp; Diagrams","text":"<p>MkDocs Material supports mathematical expressions and diagrams.</p>"},{"location":"examples/math-diagrams/#mathematical-expressions","title":"Mathematical Expressions","text":""},{"location":"examples/math-diagrams/#inline-math","title":"Inline Math","text":"<p>Einstein's famous equation: \\(E = mc^2\\)</p>"},{"location":"examples/math-diagrams/#block-math","title":"Block Math","text":"<p>$ \\int_{-\\infty}^{\\infty} e^{-x^2} dx = \\sqrt{\\pi} $</p>"},{"location":"examples/math-diagrams/#complex-equations","title":"Complex Equations","text":"<p>$ \\frac{\\partial u}{\\partial t} = \\alpha \\nabla^2 u $</p> <p>$ \\mathcal{L} = \\frac{1}{2} \\partial_\\mu \\phi \\partial^\\mu \\phi - \\frac{1}{2} m^2 \\phi^2 $</p>"},{"location":"examples/math-diagrams/#mermaid-diagrams","title":"Mermaid Diagrams","text":"<p>Diagram Loading</p> <p>Diagrams may take a moment to render. If they don't appear immediately, refresh the page.</p>"},{"location":"examples/math-diagrams/#flowchart","title":"Flowchart","text":"<pre><code>flowchart TD\n    A[Start] --&gt; B{Is it working?}\n    B --&gt;|Yes| C[Great!]\n    B --&gt;|No| D[Debug]\n    D --&gt; B\n    C --&gt; E[End]</code></pre>"},{"location":"examples/math-diagrams/#sequence-diagram","title":"Sequence Diagram","text":"<pre><code>sequenceDiagram\n    participant User\n    participant API\n    participant Database\n\n    User-&gt;&gt;API: Login Request\n    API-&gt;&gt;Database: Validate Credentials\n    Database--&gt;&gt;API: User Data\n    API--&gt;&gt;User: JWT Token\n\n    User-&gt;&gt;API: Get Profile\n    API-&gt;&gt;Database: Query User\n    Database--&gt;&gt;API: Profile Data\n    API--&gt;&gt;User: Profile Response</code></pre>"},{"location":"examples/math-diagrams/#class-diagram","title":"Class Diagram","text":"<pre><code>classDiagram\n    class Animal {\n        +String name\n        +int age\n        +void eat()\n        +void sleep()\n    }\n\n    class Dog {\n        +String breed\n        +void bark()\n    }\n\n    class Cat {\n        +String color\n        +void meow()\n    }\n\n    Animal &lt;|-- Dog\n    Animal &lt;|-- Cat</code></pre>"},{"location":"examples/math-diagrams/#gantt-chart","title":"Gantt Chart","text":"<pre><code>gantt\n    title Project Timeline\n    dateFormat  YYYY-MM-DD\n    section Planning\n    Requirements     :done,    req1, 2024-01-01, 30d\n    Design          :active,  des1, after req1, 20d\n    section Development\n    Implementation  :         imp1, after des1, 45d\n    Testing         :         test1, after imp1, 30d</code></pre>"},{"location":"examples/math-diagrams/#state-diagram","title":"State Diagram","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Idle\n    Idle --&gt; Processing : Start\n    Processing --&gt; Success : Complete\n    Processing --&gt; Error : Fail\n    Error --&gt; Processing : Retry\n    Success --&gt; [*]\n    Error --&gt; [*]</code></pre>"},{"location":"examples/math-diagrams/#mathematical-proofs","title":"Mathematical Proofs","text":""},{"location":"examples/math-diagrams/#pythagorean-theorem","title":"Pythagorean Theorem","text":"<p>$ a^2 + b^2 = c^2 $</p> <p>Where: - \\(a\\) and \\(b\\) are the lengths of the legs - \\(c\\) is the length of the hypotenuse</p>"},{"location":"examples/math-diagrams/#quadratic-formula","title":"Quadratic Formula","text":"<p>$ x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} $</p>"},{"location":"examples/math-diagrams/#eulers-identity","title":"Euler's Identity","text":"<p>$ e^{i\\pi} + 1 = 0 $</p> <p>This equation is considered one of the most beautiful in mathematics, relating five fundamental mathematical constants.</p>"},{"location":"examples/math-diagrams/#mermaidjs-initialization","title":"Mermaid.js Initialization","text":"<pre><code>&lt;script&gt;\n  mermaid.initialize({ startOnLoad: true });\n&lt;/script&gt;\n</code></pre>"},{"location":"examples/more-dir/","title":"Index","text":"<p>second dir</p>"},{"location":"examples/more-dir/next/","title":"Home","text":"<p>third dir</p>"},{"location":"examples/tabs-content/","title":"Content Tabs","text":"<p>MkDocs Material supports tabbed content organization.</p>"},{"location":"examples/tabs-content/#basic-tabs","title":"Basic Tabs","text":"PythonJavaScriptJava <pre><code>def hello_world():\n    print(\"Hello from Python!\")\n</code></pre> <pre><code>function helloWorld() {\n    console.log(\"Hello from JavaScript!\");\n}\n</code></pre> <pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(\"Hello from Java!\");\n    }\n}\n</code></pre>"},{"location":"examples/tabs-content/#tabs-with-different-content-types","title":"Tabs with Different Content Types","text":"Code ExampleExplanationOutput <pre><code>import requests\n\nresponse = requests.get('https://api.example.com/data')\ndata = response.json()\nprint(data)\n</code></pre> <p>This code demonstrates making an HTTP GET request using the Python <code>requests</code> library and parsing the JSON response.</p> <pre><code>{'status': 'success', 'data': {...}}\n</code></pre>"},{"location":"examples/tabs-content/#nested-tabs","title":"Nested Tabs","text":"FrontendBackend React <pre><code>function App() {\n    return &lt;h1&gt;Hello React!&lt;/h1&gt;;\n}\n</code></pre> Vue <pre><code>&lt;template&gt;\n    &lt;h1&gt;Hello Vue!&lt;/h1&gt;\n&lt;/template&gt;\n</code></pre> Python <pre><code>from flask import Flask\napp = Flask(__name__)\n\n@app.route('/')\ndef hello():\n    return 'Hello Flask!'\n</code></pre> Node.js <pre><code>const express = require('express');\nconst app = express();\n\napp.get('/', (req, res) =&gt; {\n    res.send('Hello Express!');\n});\n</code></pre>"},{"location":"examples/tabs-content/#tabs-with-admonitions","title":"Tabs with Admonitions","text":"InstallationConfigurationUsage <p>Quick Install</p> <pre><code>pip install mkdocs-material\n</code></pre> <p>Basic Config</p> <pre><code>theme:\n  name: material\n</code></pre> <p>Serve Locally</p> <pre><code>mkdocs serve\n</code></pre>"},{"location":"examples/tabs-content/#linked-tabs","title":"Linked Tabs","text":"<p>You can link tabs across different pages using the <code>content.tabs.link</code> feature.</p> Tab 1Tab 2Tab 3 <p>Content for tab 1</p> <p>Content for tab 2</p> <p>Content for tab 3</p>"}]}